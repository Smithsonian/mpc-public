{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Welcome to the Minor Planet Center's Public Documentation Hub","text":"<p>This site is a landing-page providing simplified access to the MPC's  complex existing public documentation pages.</p> <p>As we improve the documentation, more details will be consolidated here.</p> <p>For now, this page serves as:</p> <ul> <li>a map into the existing documentation.</li> <li>a means to access new tutorials.</li> </ul> <p>Use the menu on the left or the buttons below to navigate to topics of interest.</p> <ul> <li>MPC Documentation</li> <li>MPC Tutorials</li> </ul>"},{"location":"mpc-ops-docs/","title":"MPC Operations Documentation","text":"<p>This page mirrors the links on the MPC Ops documentation landing page.</p> <p>It is intended as an alternate entry point for MPC documentation and services.</p> <p>It is intended that the MPC Ops documentation landing page will soon be replaced by this simplified page.</p> <ul> <li>FAQs</li> <li>ADES</li> <li>APIs</li> <li>Artificial satellites</li> <li>Astrometry Guide</li> <li>Designations</li> <li>Edgar Wilson Award</li> <li>Identifications</li> <li>Negative observations protocol</li> <li>Orbit and object types</li> <li>Orbital elements</li> <li>Program codes and observatory codes</li> <li>Replicated PostgreSQL Tables</li> <li>Singletons and archival observations (SARC)</li> <li>Subscriptions</li> </ul>"},{"location":"mpc-ops-docs/ades/","title":"ADES (Astrometric Data Exchange Standard)","text":"<ul> <li>Introduction</li> <li>Valid ADES values</li> <li>ADES GitHub repository</li> <li>Official ADES format description (PDF)</li> </ul>"},{"location":"mpc-ops-docs/apis/","title":"APIs (MPC APIs)","text":"<ul> <li>Where Are My Observations (WAMO)</li> <li>Submission Status</li> <li>Designation Identifier</li> <li>Observations</li> <li>NEOCP Observations</li> <li>Check Near-Duplicates (CND)</li> <li>Orbits</li> <li>Observatory Codes</li> <li>MPECs</li> <li>Action Codes</li> <li>Lists of Objects</li> </ul>"},{"location":"mpc-ops-docs/artificial-satellites/","title":"Artificial Satellites","text":"<ul> <li>MPC Policy on Disposition and Distribution of Observations on Artificial Satellites</li> <li>Artificial Satellites on the NEOCP</li> </ul>"},{"location":"mpc-ops-docs/astrometry/","title":"MPC Guide to Minor Planet Astrometry","text":"<ul> <li>How do I begin?</li> <li>How do I report observations to the Minor Planet Center?</li> <li>How do I get an observatory code?</li> <li>How do I submit my astrometry to the MPC using Tycho Tracker?</li> </ul>"},{"location":"mpc-ops-docs/designations/","title":"Designations","text":""},{"location":"mpc-ops-docs/designations/#minor-planets","title":"Minor Planets","text":"<ul> <li>Provisional designation definition for minor planets</li> </ul>"},{"location":"mpc-ops-docs/designations/#comets","title":"Comets","text":"<ul> <li>Cometary Designations</li> </ul>"},{"location":"mpc-ops-docs/edgar-wilson-award/","title":"Edgar Wilson Award","text":"<ul> <li>Award Information</li> <li>Award Winners</li> </ul>"},{"location":"mpc-ops-docs/faqs/","title":"Frequently Asked Questions","text":"<p>Common questions and answers about MPC operations and services.</p> I have a question related to naming/citations. <p>Naming is handled by IAU Working Group on Small Body Nomenclature at contact@wgsbn-iau.org.</p> <p>They handle all matters related to the naming (and associated citation) for all minor planets and comets. You can also visit their website.</p> How do I submit observations? <p>There are submission instructions here.</p> <p>After you submit your observations, you can confirm they were received using WAMO (Where Are My Observations).</p> I discovered an object, but you have assigned the wrong discovery credit. Can you fix it? <p>Sorry! Please submit a ticket under General Support.</p> Have my observations been processed/published? Where are they? <p>Try WAMO (Where Are My Observations).</p> <p>A description of WAMO results is available here.</p> <p>If nothing is returned, your observations may have been rejected due to formatting issues.</p> Why were my observations rejected? <p>The most likely reason is large orbital fit residuals, including orbital fit residuals larger than your reported uncertainty.</p> <p>You can see whether this is the case by using an orbit fitter for the archival astrometry, plus your submitted astrometry. If you find that the residuals are good, you can submit a ticket under General Support.</p> A file or website I am trying to use is corrupted/unavailable/has other problems. Can you fix it? <p>Please submit a ticket under General Support, under the category \"Report Broken Services\". Please provide the complete URL; if the issue relates to a file, attach the file as well.</p> How do I get removed from the MPEC mailing list? <p>Please use the following link to automatically update your email on the MPEC mailing list: Subscription to Minor Planet Center Notification Services.</p> What is this moving object in my image? <p>If you are interested in identifying a moving object, you can supply the RA, Dec, and Time information to MPChecker. This service will return a list of minor planets near that location at a given time.</p> <p>If you do not see a good match on that list, the object is most likely an artificial satellite. The MPC does not track artificial satellites, but you can try online artificial satellite identification.</p> <p>If you are convinced that the object is unknown, you can follow the procedure to get an observatory code, accurately determine the position of the object and time of observation, and submit the astrometry to the MPC.</p> How do I subscribe to receive the replicated MPC database? <p>Please contact Andrei Mamoutkine of the Small Bodies Node (SBN) at amamoutk@umd.edu.</p> How do I get an observatory code? <p>The typical procedure for obtaining an observatory code is explained in the Guide to Minor Body Astrometry sections:</p> <ul> <li>\"How do I begin?\"</li> <li>\"How do I get an observatory code?\"</li> </ul> How do I credit the MPC in my publication? <p>Data from the MPC's database is made freely available to the public. Funding for this data and the MPC's operations comes from a NASA PDCO grant (80NSSC22M0024), administered via a University of Maryland - SAO subaward (106075-Z6415201). The MPC's computing equipment is funded in part by the above award, and in part by funding from the Tamkin Foundation.</p> My ticket was 'Moved to Development'. What does that mean? <p>Some of the helpdesk tickets submitted to the MPC cannot be resolved immediately. This can include requests for new features or services, the re-implementation of services or files that are no longer produced, or other work that requires effort beyond typical day-to-day operations of the MPC.</p> <p>When a ticket is \"Moved to Development\", we create or link a matching task in our software development system. Depending on our assessment of the task, both tickets are assigned a priority, of \"Low\", \"Medium\", or \"High\".</p> <p>You can view the priority assigned to your ticket by logging into the Customer Portal. On the upper right, click 'Requests' and select one of the options. This will show a table of all relevant tickets, with the priorities listed on the right-hand side.</p> I can't access your website anymore. Did you ban my IP Address? <p>If you submit too many requests to the MPC in a short time, your IP Address may be blocked. Please limit queries to https://data.minorplanetcenter.net/api/ endpoints to not more than 5 requests per second. Exceeding this rate may induce an HTTP status code of 429, indicating \"Too Many Requests\" were sent.</p> <p>If you experience interruptions using any of our pages or endpoints, please submit a ticket under General Support, requesting we unblock your IP address.</p>"},{"location":"mpc-ops-docs/identifications/","title":"Identifications","text":"<ul> <li>Identifications (overview)</li> <li>Submission Format</li> <li>Submit Identifications</li> <li>MPC criteria for accepting or rejecting identifications</li> </ul>"},{"location":"mpc-ops-docs/negative-observations/","title":"Negative Observations Protocol","text":"<ul> <li>Protocol for Negative Observations for Virtual Impactors</li> </ul>"},{"location":"mpc-ops-docs/orbit-and-object-types/","title":"Orbit and Object Types","text":"<ul> <li>Orbit Type Definition</li> <li>Object Type Definition</li> </ul>"},{"location":"mpc-ops-docs/orbital-elements/","title":"Orbital Elements","text":"<ul> <li>MPC_ORB JSON</li> <li>Orbital elements in the ele220 format</li> <li>Standard export format for minor-planet orbits</li> </ul>"},{"location":"mpc-ops-docs/programs-and-obscodes/","title":"Program Codes and Observatory Codes","text":""},{"location":"mpc-ops-docs/programs-and-obscodes/#useful-lists","title":"Useful lists","text":"<ul> <li>Valid ADES values</li> <li>Program Codes</li> <li>Observatory codes</li> </ul>"},{"location":"mpc-ops-docs/programs-and-obscodes/#policy-and-apis","title":"Policy and APIs","text":"<ul> <li>Program Codes policy</li> <li>Program Codes</li> <li>Observatory codes</li> <li>How do I obtain an observatory code?</li> <li>Observatory codes API</li> </ul>"},{"location":"mpc-ops-docs/replicated-postgresql/","title":"Replicated PostgreSQL Tables","text":"<ul> <li>Introduction and examples</li> <li>Schema</li> </ul>"},{"location":"mpc-ops-docs/sarc/","title":"Singletons and Archival Observations (SARC)","text":"<ul> <li>Singletons and archival observations committee (SARC)</li> </ul>"},{"location":"mpc-ops-docs/subscriptions/","title":"Subscription to MPC Notification Services","text":"<ul> <li>Subscribe to MPECs and MPC announcement services</li> </ul>"},{"location":"tutorials/","title":"MPC Tutorials","text":"<p>This page provides links to tutorials demonstrating how to use various MPC data and services.</p> <p>We welcome suggestions regarding additional tutorial topics: please contact us via the  MPC's Jira-Helpdesk.</p> <ul> <li>Submission of Observations</li> <li>API Tutorials</li> </ul>"},{"location":"tutorials/api_tutorials/","title":"Use of MPC APIs","text":"<p>Tutorials on how to use various of the MPC's APIs are linked below.</p> <ul> <li>Designation-Identifier API</li> <li>Submission API</li> <li>Submission Status API</li> <li>Orbits API</li> <li>Observatory Codes API</li> <li>Observations API</li> <li>NEOCP Observations API</li> <li>Check Near-Duplicates (CND) API</li> <li>MPECs API</li> <li>Action Codes API</li> </ul>"},{"location":"tutorials/submission_tutorials/","title":"Submission of Observations","text":"<p>Tutorials related to the submission of  observations to the Minor Planet Center.</p> <ul> <li>Validate ADES Observation Files</li> <li>Convert 80-Column Observations to ADES</li> <li>Submit Observations</li> <li>Check Submission Status</li> </ul>"},{"location":"tutorials/notebooks/mpc_tutorial_ades_conversion/","title":"Converting 80-Column Observations to ADES Format","text":"In\u00a0[\u00a0]: Copied! <pre>%pip install -q iau-ades\n</pre> %pip install -q iau-ades In\u00a0[\u00a0]: Copied! <pre>import tempfile\nimport atexit\nimport os\nimport xml.etree.ElementTree as ET\nfrom lxml import etree as lxml_etree\nfrom ades.mpc80coltoxml import mpc80coltoxml\nfrom ades.xmltopsv import xmltopsv\nfrom ades.valsubmit import valsubmit\n</pre> import tempfile import atexit import os import xml.etree.ElementTree as ET from lxml import etree as lxml_etree from ades.mpc80coltoxml import mpc80coltoxml from ades.xmltopsv import xmltopsv from ades.valsubmit import valsubmit In\u00a0[\u00a0]: Copied! <pre># Three sample 80-column observation lines (each exactly 80 characters)\nobs80_lines = [\n    \"COD 310\\n\",\n    \"CON N. Copernicus\\n\",\n    \"OBS G. Galilei\\n\",\n    \"MEA A. J. Cannon\\n\",\n    \"TEL 2.00-m f/10 Ritchey-Chretien + CCD\\n\",\n    \"ACK Uninformative string\\n\",\n    \"NET Gaia DR2\\n\",\n    \"AC2 an.email@gmail.com\\n\",\n    \"     K18Q99B  C2016 08 19.53259 13 57 33.13 -09 12 14.3          18.4 R      310\\n\",\n    \"     K18Q99B  C2016 08 20.52234 13 58 12.45 -09 10 22.1          18.6 R      310\\n\",\n    \"     K18Q99B  C2016 08 21.51567 13 59 01.78 -09 08 30.5          18.5 R      310\\n\",\n]\n\n# Write to a temporary file\nwith tempfile.NamedTemporaryFile(mode='w', suffix='.obs80', delete=False) as f:\n    f.writelines(obs80_lines)\n    obs80_path = f.name\n    atexit.register(lambda path=f.name: os.unlink(path) if os.path.exists(path) else None)\n\nprint(f\"Sample 80-column file: {obs80_path}\")\nprint(f\"Each line is {len(obs80_lines[0].rstrip())} characters wide.\")\nprint()\nfor line in obs80_lines:\n    print(line, end='')\n</pre> # Three sample 80-column observation lines (each exactly 80 characters) obs80_lines = [     \"COD 310\\n\",     \"CON N. Copernicus\\n\",     \"OBS G. Galilei\\n\",     \"MEA A. J. Cannon\\n\",     \"TEL 2.00-m f/10 Ritchey-Chretien + CCD\\n\",     \"ACK Uninformative string\\n\",     \"NET Gaia DR2\\n\",     \"AC2 an.email@gmail.com\\n\",     \"     K18Q99B  C2016 08 19.53259 13 57 33.13 -09 12 14.3          18.4 R      310\\n\",     \"     K18Q99B  C2016 08 20.52234 13 58 12.45 -09 10 22.1          18.6 R      310\\n\",     \"     K18Q99B  C2016 08 21.51567 13 59 01.78 -09 08 30.5          18.5 R      310\\n\", ]  # Write to a temporary file with tempfile.NamedTemporaryFile(mode='w', suffix='.obs80', delete=False) as f:     f.writelines(obs80_lines)     obs80_path = f.name     atexit.register(lambda path=f.name: os.unlink(path) if os.path.exists(path) else None)  print(f\"Sample 80-column file: {obs80_path}\") print(f\"Each line is {len(obs80_lines[0].rstrip())} characters wide.\") print() for line in obs80_lines:     print(line, end='') In\u00a0[\u00a0]: Copied! <pre># Convert 80-column to XML\nwith tempfile.NamedTemporaryFile(suffix='.xml', delete=False) as f:\n    raw_xml_path = f.name\n    atexit.register(lambda path=f.name: os.unlink(path) if os.path.exists(path) else None)\n\nmpc80coltoxml(obs80_path, raw_xml_path)#, submission=True)\n\n# Display the raw output\nwith open(raw_xml_path) as f:\n    print(f.read())\n</pre> # Convert 80-column to XML with tempfile.NamedTemporaryFile(suffix='.xml', delete=False) as f:     raw_xml_path = f.name     atexit.register(lambda path=f.name: os.unlink(path) if os.path.exists(path) else None)  mpc80coltoxml(obs80_path, raw_xml_path)#, submission=True)  # Display the raw output with open(raw_xml_path) as f:     print(f.read()) In\u00a0[\u00a0]: Copied! <pre>def prepare_for_submission(raw_xml_path, fixed_xml_path):\n    \"\"\"\n    Restructure raw mpc80coltoxml output into valid ADES submission format.\n    \n    Parameters\n    ----------\n    raw_xml_path : str\n        Path to the raw XML from mpc80coltoxml.\n    fixed_xml_path : str\n        Path to write the restructured XML.\n    \"\"\"\n    tree = ET.parse(raw_xml_path)\n    root = tree.getroot()\n\n    # Clean optical elements\n    remove_tags = {'subFmt', 'precTime', 'precRA', 'precDec'}\n    for optical in root.findall('.//optical'):\n        for child in list(optical):\n            if child.tag in remove_tags:\n                optical.remove(child)\n\n    # Write with pretty formatting using lxml\n    lxml_tree = lxml_etree.ElementTree(\n        lxml_etree.fromstring(\n            ET.tostring(root, encoding='unicode')\n        )\n    )\n    lxml_etree.indent(lxml_tree, space='  ')\n    lxml_tree.write(fixed_xml_path, xml_declaration=True, encoding='UTF-8', pretty_print=True)\n</pre> def prepare_for_submission(raw_xml_path, fixed_xml_path):     \"\"\"     Restructure raw mpc80coltoxml output into valid ADES submission format.          Parameters     ----------     raw_xml_path : str         Path to the raw XML from mpc80coltoxml.     fixed_xml_path : str         Path to write the restructured XML.     \"\"\"     tree = ET.parse(raw_xml_path)     root = tree.getroot()      # Clean optical elements     remove_tags = {'subFmt', 'precTime', 'precRA', 'precDec'}     for optical in root.findall('.//optical'):         for child in list(optical):             if child.tag in remove_tags:                 optical.remove(child)      # Write with pretty formatting using lxml     lxml_tree = lxml_etree.ElementTree(         lxml_etree.fromstring(             ET.tostring(root, encoding='unicode')         )     )     lxml_etree.indent(lxml_tree, space='  ')     lxml_tree.write(fixed_xml_path, xml_declaration=True, encoding='UTF-8', pretty_print=True) In\u00a0[\u00a0]: Copied! <pre># Create a temp file to hold the output \nwith tempfile.NamedTemporaryFile(suffix='.xml', delete=False) as f:\n    prepared_xml_path = f.name\n    atexit.register(lambda path=f.name: os.unlink(path) if os.path.exists(path) else None)\n\n# Prepare the XML for submission\nprepare_for_submission(raw_xml_path,prepared_xml_path)\n\n# Demonstrate that the original was NOT valid, but that the corrected one is now valid \nprint(\"\\nValidating raw_xml_path...\")\nvalsubmit(raw_xml_path)\n\nprint(\"\\nValidating prepared_xml_path...\")\nvalsubmit(prepared_xml_path)\n</pre> # Create a temp file to hold the output  with tempfile.NamedTemporaryFile(suffix='.xml', delete=False) as f:     prepared_xml_path = f.name     atexit.register(lambda path=f.name: os.unlink(path) if os.path.exists(path) else None)  # Prepare the XML for submission prepare_for_submission(raw_xml_path,prepared_xml_path)  # Demonstrate that the original was NOT valid, but that the corrected one is now valid  print(\"\\nValidating raw_xml_path...\") valsubmit(raw_xml_path)  print(\"\\nValidating prepared_xml_path...\") valsubmit(prepared_xml_path) In\u00a0[\u00a0]: Copied! <pre>def add_uncertainties(input_xml_path, output_xml_path, rms_ra, rms_dec):\n    \"\"\"\n    Add rmsRA and rmsDec elements to each optical observation in an ADES XML file.\n\n    Parameters\n    ----------\n    input_xml_path : str\n        Path to input ADES XML file.\n    output_xml_path : str\n        Path to write the updated XML file.\n    rms_ra : float\n        RA uncertainty in arcseconds (e.g. 0.25).\n    rms_dec : float\n        Dec uncertainty in arcseconds (e.g. 0.20).\n    \"\"\"\n    tree = ET.parse(input_xml_path)\n    root = tree.getroot()\n\n    for optical in root.findall('.//optical'):\n        # Find the &lt;dec&gt; element to insert after it\n        children = list(optical)\n        dec_idx = None\n        for i, child in enumerate(children):\n            if child.tag == 'dec':\n                dec_idx = i\n                break\n\n        if dec_idx is not None:\n            rmsRA_elem = ET.Element('rmsRA')\n            rmsRA_elem.text = f\"{rms_ra:0.12}\"\n            rmsDec_elem = ET.Element('rmsDec')\n            rmsDec_elem.text = f\"{rms_dec:0.12}\"\n            optical.insert(dec_idx + 1, rmsRA_elem)\n            optical.insert(dec_idx + 2, rmsDec_elem)\n\n    # Write with pretty formatting using lxml\n    lxml_tree = lxml_etree.ElementTree(lxml_etree.fromstring(ET.tostring(root, encoding='unicode')))\n    lxml_etree.indent(lxml_tree, space='  ')\n    lxml_tree.write(output_xml_path, xml_declaration=True, encoding='UTF-8', pretty_print=True)\n</pre> def add_uncertainties(input_xml_path, output_xml_path, rms_ra, rms_dec):     \"\"\"     Add rmsRA and rmsDec elements to each optical observation in an ADES XML file.      Parameters     ----------     input_xml_path : str         Path to input ADES XML file.     output_xml_path : str         Path to write the updated XML file.     rms_ra : float         RA uncertainty in arcseconds (e.g. 0.25).     rms_dec : float         Dec uncertainty in arcseconds (e.g. 0.20).     \"\"\"     tree = ET.parse(input_xml_path)     root = tree.getroot()      for optical in root.findall('.//optical'):         # Find the  element to insert after it         children = list(optical)         dec_idx = None         for i, child in enumerate(children):             if child.tag == 'dec':                 dec_idx = i                 break          if dec_idx is not None:             rmsRA_elem = ET.Element('rmsRA')             rmsRA_elem.text = f\"{rms_ra:0.12}\"             rmsDec_elem = ET.Element('rmsDec')             rmsDec_elem.text = f\"{rms_dec:0.12}\"             optical.insert(dec_idx + 1, rmsRA_elem)             optical.insert(dec_idx + 2, rmsDec_elem)      # Write with pretty formatting using lxml     lxml_tree = lxml_etree.ElementTree(lxml_etree.fromstring(ET.tostring(root, encoding='unicode')))     lxml_etree.indent(lxml_tree, space='  ')     lxml_tree.write(output_xml_path, xml_declaration=True, encoding='UTF-8', pretty_print=True) In\u00a0[\u00a0]: Copied! <pre># Create a temp file to hold the output \nwith tempfile.NamedTemporaryFile(suffix='.xml', delete=False) as f:\n    final_xml_path = f.name\n    atexit.register(lambda path=f.name: os.unlink(path) if os.path.exists(path) else None)\n\n# Add RA &amp; Dec uncertainties (in arcseconds)\nadd_uncertainties(prepared_xml_path, final_xml_path, rms_ra='0.25', rms_dec='0.20')\n\n# Demonstrate that both prepared_xml_path &amp; final_xml_path are valid\nprint(\"\\nValidating raw_xml_path...\")\nvalsubmit(prepared_xml_path)\n\nprint(\"\\nValidating prepared_xml_path...\")\nvalsubmit(final_xml_path)\n\nwith open(final_xml_path) as f:\n    print(f.read())\n</pre> # Create a temp file to hold the output  with tempfile.NamedTemporaryFile(suffix='.xml', delete=False) as f:     final_xml_path = f.name     atexit.register(lambda path=f.name: os.unlink(path) if os.path.exists(path) else None)  # Add RA &amp; Dec uncertainties (in arcseconds) add_uncertainties(prepared_xml_path, final_xml_path, rms_ra='0.25', rms_dec='0.20')  # Demonstrate that both prepared_xml_path &amp; final_xml_path are valid print(\"\\nValidating raw_xml_path...\") valsubmit(prepared_xml_path)  print(\"\\nValidating prepared_xml_path...\") valsubmit(final_xml_path)  with open(final_xml_path) as f:     print(f.read()) In\u00a0[\u00a0]: Copied! <pre># Convert the final XML to PSV\nwith tempfile.NamedTemporaryFile(suffix='.psv', delete=False) as f:\n    final_psv_path = f.name\n    atexit.register(lambda path=f.name: os.unlink(path) if os.path.exists(path) else None)\n\nxmltopsv(final_xml_path, final_psv_path)\n\nwith open(final_psv_path) as f:\n    print(f.read())\n</pre> # Convert the final XML to PSV with tempfile.NamedTemporaryFile(suffix='.psv', delete=False) as f:     final_psv_path = f.name     atexit.register(lambda path=f.name: os.unlink(path) if os.path.exists(path) else None)  xmltopsv(final_xml_path, final_psv_path)  with open(final_psv_path) as f:     print(f.read()) In\u00a0[\u00a0]: Copied! <pre>\n</pre>"},{"location":"tutorials/notebooks/mpc_tutorial_ades_conversion/#converting-80-column-observations-to-ades-format","title":"Converting 80-Column Observations to ADES Format\u00b6","text":"<p>This tutorial demonstrates how to (a) convert observations from the legacy 80-column (MPC1992) format to the ADES format, and (b) how to add RA &amp; Dec measurement uncertainties to the ADES format file produced in (a).</p> <p>The 80-column format is the legacy format historically used for submitting astrometric observations to the MPC.</p> <p>The ADES (Astrometry Data Exchange Standard) is the current standard for observation submissions.</p> <p>One important limitation of the 80-column format is that it cannot represent RA &amp; Dec measurement uncertainties (<code>rmsRA</code> and <code>rmsDec</code>). These fields are supported by ADES and are increasingly important for orbit determination. After converting from 80-column to ADES format, you can add these uncertainty values as a separate step.</p> <p>The <code>iau-ades</code> Python package provides tools for:</p> <ul> <li>Converting 80-column format to ADES XML (<code>mpc80coltoxml</code>)</li> <li>Converting ADES XML to PSV format (<code>xmltopsv</code>)</li> <li>Validating ADES XML files (<code>valsubmit</code>)</li> </ul> <p>Further information can be found at:</p> <ul> <li>https://www.minorplanetcenter.net/iau/info/OpticalObs.html</li> <li>https://www.minorplanetcenter.net/mpcops/documentation/ades/</li> <li>https://github.com/IAU-ADES/ADES-Master</li> </ul>"},{"location":"tutorials/notebooks/mpc_tutorial_ades_conversion/#install-import-packages","title":"Install &amp; Import Packages\u00b6","text":"<p>Here we install the <code>iau-ades</code> package and import the packages used in this tutorial.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_ades_conversion/#environment-note","title":"! Environment note\u00b6","text":"<p>This notebook installs the <code>iau-ades</code> package using <code>%pip</code>.</p> <p>In Jupyter, packages must be installed into the same Python environment as the running kernel.</p> <p>If you see import errors:</p> <ul> <li>Restart the kernel after installation, and</li> <li>Ensure you\u2019re running the intended environment (e.g., virtualenv/conda).</li> </ul>"},{"location":"tutorials/notebooks/mpc_tutorial_ades_conversion/#sample-80-column-data","title":"Sample 80-Column Data\u00b6","text":"<p>The 80-column format uses fixed-width fields in exactly 80 characters per line. Each line encodes one observation, including the object designation, date/time, RA, Dec, magnitude, and observatory code.</p> <p>Full documentation of the format can be found at https://www.minorplanetcenter.net/iau/info/OpticalObs.html</p> <p>Here we create a sample file containing three observations of the same object from observatory 413 (Siding Spring Observatory).</p>"},{"location":"tutorials/notebooks/mpc_tutorial_ades_conversion/#convert-80-column-to-xml","title":"Convert 80-Column to XML\u00b6","text":"<p>The <code>mpc80coltoxml</code> function from the <code>iau-ades</code> package converts 80-column format observations to ADES XML.</p> <p>Note:</p> <ul> <li>The output from <code>mpc80coltoxml</code> places the 80-character observations lines into the <code>&lt;optical&gt;</code> elements within the <code>&lt;obsData&gt;</code> section of the ADES file.</li> <li>The shorter \"header\" lines describing the observer/measurer/email/etc, are placed into an <code>&lt;obsContext&gt;</code> block at the start of the ADES file.</li> <li>It also includes metadata elements (<code>subFmt</code>, <code>precTime</code>, <code>precRA</code>, <code>precDec</code>) that are not valid in the submission schema.<ul> <li>We will fix these issues in the next step.</li> <li>Obviously it would be better to not have to fix these at all, so an update to <code>mpc80coltoxml</code> would seem to be in order.<ul> <li>https://github.com/IAU-ADES/ADES-Master/pull/94 has been prepared &amp; opened, allowing <code>mpc80coltoxml(obs80_path, raw_xml_path, submission=True)</code>, i.e. supplying a <code>submission</code> option that omits elements such a <code>subFmt</code>, <code>precTime</code>, <code>precRA</code>, <code>precDec</code></li> </ul> </li> </ul> </li> </ul>"},{"location":"tutorials/notebooks/mpc_tutorial_ades_conversion/#post-process-for-submission","title":"Post-Process for Submission\u00b6","text":"<p>The raw XML output needs to be restructured before it can pass ADES submission validation:</p> <p>I.e. we remove invalid elements (<code>subFmt</code>, <code>precTime</code>, <code>precRA</code>, <code>precDec</code>) that are not part of the submission schema</p> <p>Below we define a helper function that performs this restructuring.</p> <p>We also demonstrate that the restructured file is valid for submission to the MPC. For more details on validation, see the Validating ADES Observation Files tutorial.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_ades_conversion/#add-ra-dec-uncertainties","title":"Add RA &amp; Dec Uncertainties\u00b6","text":"<p>The 80-column format has no fields for RA and Dec measurement uncertainties. In ADES, these are represented by the <code>rmsRA</code> and <code>rmsDec</code> elements (in arcseconds), which capture the random component of the astrometric uncertainty (1-sigma).</p> <p>To allow the MPC to account for your uncertainties, it is very important for you to add RA &amp; Dec uncertainties whenever you know them. It is very important that you do not create fake or invalid (too small) uncertainties to make your observations look better. No uncertainties is better than wrong ones.</p> <p>After converting from 80-column format, you can add these values based on your knowledge of the measurement precision. The elements must be placed in a specific position within each <code>&lt;optical&gt;</code> element: after <code>&lt;dec&gt;</code> and before <code>&lt;astCat&gt;</code>.</p> <p>Below we define a helper function that inserts <code>rmsRA</code> and <code>rmsDec</code> values into each observation.</p> <p>We also demonstrate that the restructured file is not valid for submission to the MPC. For more details on validation, see the Validating ADES Observation Files tutorial.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_ades_conversion/#convert-to-psv-format","title":"Convert to PSV Format\u00b6","text":"<p>ADES observations can also be represented in PSV (Pipe-Separated Values) format, which is more human-readable than XML. The <code>xmltopsv</code> function converts the final XML to PSV.</p> <p>The PSV output will include the <code>rmsRA</code> and <code>rmsDec</code> columns that we added above.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_ades_conversion/#summary","title":"Summary\u00b6","text":"<p>In this tutorial we demonstrated the full workflow for converting 80-column format observations to ADES:</p> <ol> <li>Convert 80-column to raw XML using <code>mpc80coltoxml</code></li> <li>Post-process the XML to remove elements not valid in the submission schema</li> <li>Add RA &amp; Dec uncertainties (<code>rmsRA</code>, <code>rmsDec</code>) which cannot be represented in the 80-column format</li> <li>Validate the result using <code>valsubmit</code> (see Validating ADES Observation Files)</li> <li>Convert to PSV format if desired using <code>xmltopsv</code></li> </ol> <p>For information on submitting your ADES files to the MPC, see the Submit Observations tutorial.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_ades_validation/","title":"Validating ADES Observation Files","text":"In\u00a0[\u00a0]: Copied! <pre>!pip install -q iau-ades requests\n</pre> !pip install -q iau-ades requests In\u00a0[\u00a0]: Copied! <pre>import requests\nimport tempfile\nimport atexit\nimport os\nimport io\nimport contextlib\nfrom dataclasses import dataclass\nfrom ades.valsubmit import valsubmit\nfrom ades.psvtoxml import psvtoxml\n</pre> import requests import tempfile import atexit import os import io import contextlib from dataclasses import dataclass from ades.valsubmit import valsubmit from ades.psvtoxml import psvtoxml In\u00a0[\u00a0]: Copied! <pre>@dataclass\nclass ValidateXML:\n    \"\"\"\n    Validate an ADES XML file and capture the result.\n\n    The `valsubmit` routine will\n    (a) print its result to std.out\n    (b) save its results to a file `valsubmit.file`\n\n    Your opinion on the appeal of this approach may vary. \n\n    This helper function will \n    (i) capture the result (into a variable)\n    (ii) optionally suppress the print statement [defaults to NOT suppressing]\n    (iii) optionally remove the results file [defaults to removing]\n    \n    Parameters\n    ----------\n    xml_filepath : str\n        Path to the XML file to validate.\n    \"\"\"\n    xml_filepath: str\n    remove_fileoutput: bool = True \n    suppress_print: bool = False\n\n    def __post_init__(self):  # Called automatically after __init__ to perform post-processing.\n        self._validatexml()\n\n    def _validatexml(self,):\n        \n        captured_output = io.StringIO()  # Create a StringIO object\n        with contextlib.redirect_stdout(captured_output):  # Use the context manager to redirect stdout\n            valsubmit(self.xml_filepath)  # Run the validation\n            self.valid = True if \"submit is OK\" in captured_output.getvalue() else False  # Populate boolean\n            self.error = None if self.valid else captured_output.getvalue()  # Capture any error \n\n        # Optionally remove 'valsubmit.file'\n        outputfile = 'valsubmit.file'\n        if self.remove_fileoutput and os.path.isfile(outputfile):\n            os.remove(outputfile)\n\n        # Optionally print\n        if not self.suppress_print:\n            print(captured_output.getvalue())\n</pre> @dataclass class ValidateXML:     \"\"\"     Validate an ADES XML file and capture the result.      The `valsubmit` routine will     (a) print its result to std.out     (b) save its results to a file `valsubmit.file`      Your opinion on the appeal of this approach may vary.       This helper function will      (i) capture the result (into a variable)     (ii) optionally suppress the print statement [defaults to NOT suppressing]     (iii) optionally remove the results file [defaults to removing]          Parameters     ----------     xml_filepath : str         Path to the XML file to validate.     \"\"\"     xml_filepath: str     remove_fileoutput: bool = True      suppress_print: bool = False      def __post_init__(self):  # Called automatically after __init__ to perform post-processing.         self._validatexml()      def _validatexml(self,):                  captured_output = io.StringIO()  # Create a StringIO object         with contextlib.redirect_stdout(captured_output):  # Use the context manager to redirect stdout             valsubmit(self.xml_filepath)  # Run the validation             self.valid = True if \"submit is OK\" in captured_output.getvalue() else False  # Populate boolean             self.error = None if self.valid else captured_output.getvalue()  # Capture any error           # Optionally remove 'valsubmit.file'         outputfile = 'valsubmit.file'         if self.remove_fileoutput and os.path.isfile(outputfile):             os.remove(outputfile)          # Optionally print         if not self.suppress_print:             print(captured_output.getvalue())   In\u00a0[\u00a0]: Copied! <pre># Define the files to fetch\nmpc_urls = [\n    \"https://data.minorplanetcenter.net/media/ades/goodsubmit.xml.txt\",\n    \"https://data.minorplanetcenter.net/media/ades/goodsubmit.psv.txt\"\n]\n\nlocal_filenames = [\"sample.xml\", \"sample.psv\"]\ntemp_filepaths = {}\n\nfor local_filename, mpc_url in zip(local_filenames, mpc_urls):\n    content = requests.get(mpc_url).text\n\n    # Update from version 2017 to 2022\n    content = content.replace('version=\"2017\"', 'version=\"2022\"').replace('version=2017', 'version=2022')\n    # In v2022, RA values must not have a leading '+' sign\n    content = content.replace('&lt;ra&gt;+', '&lt;ra&gt;').replace('&lt;dec&gt;+', '&lt;dec&gt;')\n    content = content.replace('| +0.1      |+30.0', '|  0.1      | 30.0')\n\n    ext = local_filename[-3:]  # 'xml' or 'psv'\n    with tempfile.NamedTemporaryFile(mode='w', suffix='.' + ext, delete=False) as f:\n        f.write(content)\n        temp_filepaths[ext] = f.name\n        print(f\"Saved {ext.upper()} sample to: {temp_filepaths[ext]}\")\n        atexit.register(lambda path=f.name: os.unlink(path) if os.path.exists(path) else None)\n</pre> # Define the files to fetch mpc_urls = [     \"https://data.minorplanetcenter.net/media/ades/goodsubmit.xml.txt\",     \"https://data.minorplanetcenter.net/media/ades/goodsubmit.psv.txt\" ]  local_filenames = [\"sample.xml\", \"sample.psv\"] temp_filepaths = {}  for local_filename, mpc_url in zip(local_filenames, mpc_urls):     content = requests.get(mpc_url).text      # Update from version 2017 to 2022     content = content.replace('version=\"2017\"', 'version=\"2022\"').replace('version=2017', 'version=2022')     # In v2022, RA values must not have a leading '+' sign     content = content.replace('+', '').replace('+', '')     content = content.replace('| +0.1      |+30.0', '|  0.1      | 30.0')      ext = local_filename[-3:]  # 'xml' or 'psv'     with tempfile.NamedTemporaryFile(mode='w', suffix='.' + ext, delete=False) as f:         f.write(content)         temp_filepaths[ext] = f.name         print(f\"Saved {ext.upper()} sample to: {temp_filepaths[ext]}\")         atexit.register(lambda path=f.name: os.unlink(path) if os.path.exists(path) else None) In\u00a0[\u00a0]: Copied! <pre>res = ValidateXML(temp_filepaths['xml'], suppress_print=True)\nprint(f\"{res.valid=}\")\nif not res.valid: \n    print(f\"{res.error=}\")\n</pre> res = ValidateXML(temp_filepaths['xml'], suppress_print=True) print(f\"{res.valid=}\") if not res.valid:      print(f\"{res.error=}\") In\u00a0[\u00a0]: Copied! <pre># Read the good XML and introduce an error: set RA to an invalid value\nwith open(temp_filepaths['xml']) as f:\n    good_xml = f.read()\n\nbad_xml = good_xml.replace('&lt;ra&gt;0&lt;/ra&gt;', '&lt;ra&gt;999.999&lt;/ra&gt;', 1)\n\n# Write the bad XML to a temporary file\nwith tempfile.NamedTemporaryFile(mode='w', suffix='.xml', delete=False) as f:\n    f.write(bad_xml)\n    bad_xml_path = f.name\n    atexit.register(lambda path=f.name: os.unlink(path) if os.path.exists(path) else None)\n\n# Validate the bad XML\nres = ValidateXML(bad_xml_path, suppress_print=False)\nprint(f\"{res.valid=}\")\n</pre> # Read the good XML and introduce an error: set RA to an invalid value with open(temp_filepaths['xml']) as f:     good_xml = f.read()  bad_xml = good_xml.replace('0', '999.999', 1)  # Write the bad XML to a temporary file with tempfile.NamedTemporaryFile(mode='w', suffix='.xml', delete=False) as f:     f.write(bad_xml)     bad_xml_path = f.name     atexit.register(lambda path=f.name: os.unlink(path) if os.path.exists(path) else None)  # Validate the bad XML res = ValidateXML(bad_xml_path, suppress_print=False) print(f\"{res.valid=}\")  In\u00a0[\u00a0]: Copied! <pre># Remove the &lt;stn&gt;F51&lt;/stn&gt; element from the first observation\nbad_xml_nostn = good_xml.replace('        &lt;stn&gt;F51&lt;/stn&gt;\\n', '', 1)\n\n# Write the bad XML to a temporary file\nwith tempfile.NamedTemporaryFile(mode='w', suffix='.xml', delete=False) as f:\n    f.write(bad_xml_nostn)\n    bad_xml_nostn_path = f.name\n    atexit.register(lambda path=f.name: os.unlink(path) if os.path.exists(path) else None)\n\n# Validate the bad XML\nres = ValidateXML(bad_xml_nostn_path, suppress_print=False)\n</pre> # Remove the F51 element from the first observation bad_xml_nostn = good_xml.replace('        F51\\n', '', 1)  # Write the bad XML to a temporary file with tempfile.NamedTemporaryFile(mode='w', suffix='.xml', delete=False) as f:     f.write(bad_xml_nostn)     bad_xml_nostn_path = f.name     atexit.register(lambda path=f.name: os.unlink(path) if os.path.exists(path) else None)  # Validate the bad XML res = ValidateXML(bad_xml_nostn_path, suppress_print=False)  In\u00a0[\u00a0]: Copied! <pre>#Step 1: Convert PSV to XML\nwith tempfile.NamedTemporaryFile(suffix='.xml', delete=False) as f:\n    xml_from_psv_path = f.name\n    atexit.register(lambda path=f.name: os.unlink(path) if os.path.exists(path) else None)\n\npsvtoxml(temp_filepaths['psv'], xml_from_psv_path)\n\n\n# # Step 2: Validate the converted XML\nres = ValidateXML(xml_from_psv_path, suppress_print=False)\n</pre> #Step 1: Convert PSV to XML with tempfile.NamedTemporaryFile(suffix='.xml', delete=False) as f:     xml_from_psv_path = f.name     atexit.register(lambda path=f.name: os.unlink(path) if os.path.exists(path) else None)  psvtoxml(temp_filepaths['psv'], xml_from_psv_path)   # # Step 2: Validate the converted XML res = ValidateXML(xml_from_psv_path, suppress_print=False)  In\u00a0[\u00a0]: Copied! <pre># Reset psvtoxml module state (required when calling psvtoxml multiple times)\nimport importlib\nimport ades.psvtoxml\nimportlib.reload(ades.psvtoxml)\nfrom ades.psvtoxml import psvtoxml\n\n# Read the good PSV and introduce an error: set Dec to an invalid value\nwith open(temp_filepaths['psv']) as f:\n    good_psv = f.read()\n\nbad_psv = good_psv.replace('| 90        |', '| 91        |', 1)\n\n# Write the bad PSV to a temporary file\nwith tempfile.NamedTemporaryFile(mode='w', suffix='.psv', delete=False) as f:\n    f.write(bad_psv)\n    bad_psv_path = f.name\n    atexit.register(lambda path=f.name: os.unlink(path) if os.path.exists(path) else None)\n\n# Step 1: Convert bad PSV to XML\nwith tempfile.NamedTemporaryFile(suffix='.xml', delete=False) as f:\n    bad_xml_from_psv_path = f.name\n    atexit.register(lambda path=f.name: os.unlink(path) if os.path.exists(path) else None)\n\npsvtoxml(bad_psv_path, bad_xml_from_psv_path)\nprint(\"PSV converted to XML successfully (conversion does not validate content).\")\n\n# Step 2: Validate the converted XML\nres = ValidateXML(bad_xml_from_psv_path, suppress_print=True)\nprint(f\"{res.valid=}\")\nif not res.valid: \n    print(f\"{res.error}\")\n</pre> # Reset psvtoxml module state (required when calling psvtoxml multiple times) import importlib import ades.psvtoxml importlib.reload(ades.psvtoxml) from ades.psvtoxml import psvtoxml  # Read the good PSV and introduce an error: set Dec to an invalid value with open(temp_filepaths['psv']) as f:     good_psv = f.read()  bad_psv = good_psv.replace('| 90        |', '| 91        |', 1)  # Write the bad PSV to a temporary file with tempfile.NamedTemporaryFile(mode='w', suffix='.psv', delete=False) as f:     f.write(bad_psv)     bad_psv_path = f.name     atexit.register(lambda path=f.name: os.unlink(path) if os.path.exists(path) else None)  # Step 1: Convert bad PSV to XML with tempfile.NamedTemporaryFile(suffix='.xml', delete=False) as f:     bad_xml_from_psv_path = f.name     atexit.register(lambda path=f.name: os.unlink(path) if os.path.exists(path) else None)  psvtoxml(bad_psv_path, bad_xml_from_psv_path) print(\"PSV converted to XML successfully (conversion does not validate content).\")  # Step 2: Validate the converted XML res = ValidateXML(bad_xml_from_psv_path, suppress_print=True) print(f\"{res.valid=}\") if not res.valid:      print(f\"{res.error}\")"},{"location":"tutorials/notebooks/mpc_tutorial_ades_validation/#validating-ades-observation-files","title":"Validating ADES Observation Files\u00b6","text":""},{"location":"tutorials/notebooks/mpc_tutorial_ades_validation/#this-tutorial-demonstrates-how-to-use-the-iau-ades-python-package-to-validate-ades-formatted-observation-files-locally-before-submitting-them-to-the-minor-planet-center","title":"This tutorial demonstrates how to use the <code>iau-ades</code> Python package to validate ADES-formatted observation files locally, before submitting them to the Minor Planet Center.\u00b6","text":"<p>The ADES (Astrometry Data Exchange Standard) is the standard format for submitting astrometric observations to the MPC. Observations can be formatted as either XML or PSV (Pipe-Separated Values).</p> <p>The <code>iau-ades</code> Python package provides tools to:</p> <ul> <li>Validate ADES XML files against the submission schema (<code>submit.xsd</code>)</li> <li>Convert between PSV and XML formats</li> </ul> <p>In this tutorial we focus on the <code>valsubmit</code> function that can be used to assess the validity of files that are to be submitted to the MPC. For users interested in the more general <code>valgeneral</code> function, please see the <code>iau-ades</code> documentation.</p> <p>Validating your ADES files locally before submission is a useful step that can help identify formatting errors early, saving time in the submission process.</p> <p>Further information and documentation on the ADES standard can be found at:</p> <ul> <li>https://www.minorplanetcenter.net/mpcops/documentation/ades/</li> <li>https://github.com/IAU-ADES/ADES-Master</li> <li>https://www.minorplanetcenter.net/mpcops/documentation/valid-ades-values/</li> </ul>"},{"location":"tutorials/notebooks/mpc_tutorial_ades_validation/#install-import-packages","title":"Install &amp; Import Packages\u00b6","text":"<p>Here we install the <code>iau-ades</code> package and import the standard Python packages we use in this tutorial.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_ades_validation/#helper-function","title":"Helper Function\u00b6","text":"<p>The <code>valsubmit</code> routine will (a) print its result to std.out (b) save its results to a file <code>valsubmit.file</code> in the current working directory.</p> <p>Your opinion on the appeal of this approach may vary.</p> <p>Here we define a small helper class that calls <code>valsubmit</code>, optionally suppresses the print-out &amp; removes the created file, and parses the results into class variables.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_ades_validation/#sample-ades-files","title":"Sample ADES Files\u00b6","text":"<p>Here we download sample XML and PSV files from the MPC's website and save them to local (temporary) files.</p> <p>These files are known to be valid submissions to the MPC.</p> <p>If you have created your own ADES file(s), then this download of sample files is not necessary.</p> <p>The local, temporary files will be deleted after this notebook exits.</p> <p>Note: The sample files from the MPC use ADES version <code>2017</code>. The current <code>iau-ades</code> package validates against the version <code>2022</code> schema. Below, we update the version and fix any fields that have changed between versions.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_ades_validation/#validate-xml-format-data","title":"Validate XML Format Data\u00b6","text":"<p>The <code>iau-ades</code> package validates ADES files in XML format. The <code>valsubmit</code> function checks an XML file against the ADES submission schema (<code>submit.xsd</code>).</p>"},{"location":"tutorials/notebooks/mpc_tutorial_ades_validation/#xml-validation-successful","title":"XML Validation: Successful\u00b6","text":"<p>Here we validate the sample XML file downloaded above. Since this file contains correctly formatted ADES data, the validation should pass.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_ades_validation/#xml-validation-failed-ra-out-of-range","title":"XML Validation: Failed (RA out of range)\u00b6","text":"<p>Here we create an intentionally invalid XML file where the Right Ascension (<code>ra</code>) value is set to <code>999.999</code>, which exceeds the allowed maximum of <code>360.0</code> degrees. The validation should fail and report the error.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_ades_validation/#xml-validation-failed-missing-required-element","title":"XML Validation: Failed (missing required element)\u00b6","text":"<p>Here we create another invalid XML file where the required <code>stn</code> (station/observatory code) element has been removed from an observation. The validation should fail because <code>stn</code> is a required field.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_ades_validation/#validate-psv-format-data","title":"Validate PSV Format Data\u00b6","text":"<p>The <code>iau-ades</code> validation functions operate on XML format. If your observations are in PSV (Pipe-Separated Values) format, they must first be converted to XML before validation can be performed.</p> <p>The <code>iau-ades</code> package provides the <code>psvtoxml</code> function for this conversion. This mirrors what the MPC does internally when PSV files are submitted.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_ades_validation/#psv-validation-successful","title":"PSV Validation: Successful\u00b6","text":"<p>Here we demonstrate the two-step process:</p> <ol> <li>Convert the PSV file to XML using <code>psvtoxml</code></li> <li>Validate the resulting XML using <code>valsubmit</code></li> </ol>"},{"location":"tutorials/notebooks/mpc_tutorial_ades_validation/#psv-validation-failed","title":"PSV Validation: Failed\u00b6","text":"<p>Here we create an invalid PSV file where one observation has a Declination (<code>dec</code>) value of <code>91</code> (exceeding the allowed maximum of <code>90.0</code> degrees). We convert it to XML and then validate to show that the error is caught.</p> <p>Note: The <code>psvtoxml</code> function uses module-level state that is not reset between calls. We use <code>importlib.reload</code> to reset this state before the second conversion.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_ades_validation/#summary","title":"Summary\u00b6","text":"<p>In this tutorial we demonstrated how to use the <code>iau-ades</code> Python package to validate ADES-formatted observation files locally:</p> <ul> <li>XML files can be validated directly using <code>valsubmit</code> from <code>ades.valsubmit</code></li> <li>PSV files must first be converted to XML using <code>psvtoxml</code> from <code>ades.psvtoxml</code>, and then validated</li> <li>Validation checks the data against the ADES submission schema (<code>submit.xsd</code>) and reports errors such as out-of-range values or missing required elements</li> </ul> <p>We recommend validating your ADES files locally before submitting them to the MPC. For information on how to submit validated files to the MPC, see the Submit Observations tutorial.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_action_codes/","title":"MPC Action Codes API","text":"In\u00a0[\u00a0]: Copied! <pre>import requests\nimport json\n</pre> import requests import json In\u00a0[\u00a0]: Copied! <pre># Example: Request action code for a submission\n# Replace with your actual submission ID\nsubmission_id = \"your-submission-id\"  # e.g., \"2024-01-15T10:30:00.123_ABCD1234\"\n\n# Note: This is a POST request\nresponse = requests.post(\n    \"https://data.minorplanetcenter.net/api/action-codes/retrieve\",\n    json={\"label\": submission_id}\n)\n\nprint(f\"Status code: {response.status_code}\")\nprint(f\"Response: {response.json() if response.ok else response.content}\")\n</pre> # Example: Request action code for a submission # Replace with your actual submission ID submission_id = \"your-submission-id\"  # e.g., \"2024-01-15T10:30:00.123_ABCD1234\"  # Note: This is a POST request response = requests.post(     \"https://data.minorplanetcenter.net/api/action-codes/retrieve\",     json={\"label\": submission_id} )  print(f\"Status code: {response.status_code}\") print(f\"Response: {response.json() if response.ok else response.content}\")   In\u00a0[\u00a0]: Copied! <pre># Example with a tracklet ID\n# Replace with your actual tracklet ID\ntrksub = \"ABC12345\"  # 1-8 alphanumeric characters\n\nresponse = requests.post(\n    \"https://data.minorplanetcenter.net/api/action-codes/retrieve\",\n    json={\"label\": trksub}\n)\n\nprint(f\"Status code: {response.status_code}\")\nprint(f\"Response: {response.json() if response.ok else response.content}\")\n</pre> # Example with a tracklet ID # Replace with your actual tracklet ID trksub = \"ABC12345\"  # 1-8 alphanumeric characters  response = requests.post(     \"https://data.minorplanetcenter.net/api/action-codes/retrieve\",     json={\"label\": trksub} )  print(f\"Status code: {response.status_code}\") print(f\"Response: {response.json() if response.ok else response.content}\")   In\u00a0[\u00a0]: Copied! <pre>def request_action_code(label):\n    \"\"\"\n    Request retrieval of an action code for a submission.\n    \n    The action code will be emailed to the original submitter's address.\n    \n    Parameters\n    ----------\n    label : str\n        Submission identifier (submission ID, tracklet ID, etc.)\n    \n    Returns\n    -------\n    dict\n        API response with status information\n    \"\"\"\n    response = requests.post(\n        \"https://data.minorplanetcenter.net/api/action-codes/retrieve\",\n        json={\"label\": label}\n    )\n    \n    return {\n        \"success\": response.ok,\n        \"status_code\": response.status_code,\n        \"message\": \"Action code will be emailed to original submitter\" if response.ok else \"Request failed\",\n        \"response\": response.json() if response.ok else str(response.content)\n    }\n\n\n# Example usage (replace with your actual submission ID)\nresult = request_action_code(\"your-submission-id\")\nprint(json.dumps(result, indent=2))\n</pre> def request_action_code(label):     \"\"\"     Request retrieval of an action code for a submission.          The action code will be emailed to the original submitter's address.          Parameters     ----------     label : str         Submission identifier (submission ID, tracklet ID, etc.)          Returns     -------     dict         API response with status information     \"\"\"     response = requests.post(         \"https://data.minorplanetcenter.net/api/action-codes/retrieve\",         json={\"label\": label}     )          return {         \"success\": response.ok,         \"status_code\": response.status_code,         \"message\": \"Action code will be emailed to original submitter\" if response.ok else \"Request failed\",         \"response\": response.json() if response.ok else str(response.content)     }   # Example usage (replace with your actual submission ID) result = request_action_code(\"your-submission-id\") print(json.dumps(result, indent=2))"},{"location":"tutorials/notebooks/mpc_tutorial_api_action_codes/#mpc-action-codes-api","title":"MPC Action Codes API\u00b6","text":""},{"location":"tutorials/notebooks/mpc_tutorial_api_action_codes/#this-tutorial-provides-information-on-how-to-use-the-minor-planet-centers-action-codes-api","title":"This tutorial provides information on how to use the Minor Planet Center's Action Codes API.\u00b6","text":"<p>The Minor Planet Center's <code>Action Codes</code> service allows you to retrieve action codes that were sent when you originally submitted observations to the MPC.</p> <p>What are Action Codes?</p> <p>Action codes are automatically generated codes that are sent to the submitters of new NEO and new comet candidates as well as to the NEO/NEOPC follow-up reporters. These action codes can be used to:</p> <ul> <li>Retract (delete) your submitted observations</li> <li>Replace observations with corrected versions</li> <li>Prove ownership of your submissions</li> </ul> <p>If you've lost your action code, this API can help you retrieve it. The action code will be emailed to the original submitter's address.</p> <p>The Action Codes API is a REST endpoint. You can send POST requests to:</p> <pre><code>https://data.minorplanetcenter.net/api/action-codes/retrieve</code></pre> <p>In the examples below we use Python code to query the API.</p> <p>Further information and documentation can be found at:</p> <ul> <li>https://minorplanetcenter.net/mpcops/documentation/action-codes-api/</li> </ul>"},{"location":"tutorials/notebooks/mpc_tutorial_api_action_codes/#import-packages","title":"Import Packages\u00b6","text":"<p>Here we import the standard Python packages needed to call the API.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_action_codes/#api-parameters","title":"API Parameters\u00b6","text":"<p>The Action Codes API accepts the following parameter:</p> Parameter Type Required Description <code>label</code> String Yes An identifier for your submission"},{"location":"tutorials/notebooks/mpc_tutorial_api_action_codes/#label-formats","title":"Label Formats\u00b6","text":"<p>The <code>label</code> parameter can be one of several formats:</p> Format Pattern Example Tracklet Submission ID (trksub) 1-8 alphanumeric/underscore <code>ABC12345</code> Track ID (trkid) 8-12 alphanumeric/underscore <code>ABCD12345678</code> Submission Block ID <code>YYYY-MM-DDTHH:MM:SS.mmm_xxxxxxxx_nn</code> <code>2024-01-15T10:30:00.123_ABCD1234_01</code> Submission ID <code>YYYY-MM-DDTHH:MM:SS.mmm_xxxxxxxx</code> <code>2024-01-15T10:30:00.123_ABCD1234</code>"},{"location":"tutorials/notebooks/mpc_tutorial_api_action_codes/#important-notes","title":"Important Notes\u00b6","text":"<ol> <li>This is a POST request, not GET (unlike most other MPC APIs)</li> <li>The action code is sent via email to the original submitter's email address</li> <li>The API response itself does not contain the action code</li> </ol>"},{"location":"tutorials/notebooks/mpc_tutorial_api_action_codes/#how-it-works","title":"How It Works\u00b6","text":"<p>When you call this API with a valid submission label:</p> <ol> <li>The MPC looks up the submission in their database</li> <li>If found, they retrieve the original submitter's email address</li> <li>The action code is sent to that email address</li> <li>The API returns a confirmation (but not the code itself)</li> </ol> <p>This ensures that only the original submitter can retrieve their action code.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_action_codes/#basic-usage","title":"Basic Usage\u00b6","text":"<p>Here's how to request an action code retrieval.</p> <p>Note: Replace <code>your-submission-id</code> with your actual submission ID.</p> <p>The response in this example will indicate a problem (because the supplied submission-ID,  <code>your-submission-id</code> is not a valid submission-ID).</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_action_codes/#understanding-submission-ids","title":"Understanding Submission IDs\u00b6","text":"<p>When you submit observations to the MPC, you receive a submission ID in the response. This ID has the format:</p> <pre><code>YYYY-MM-DDTHH:MM:SS.mmm_xxxxxxxx\n</code></pre> <p>Where:</p> <ul> <li><code>YYYY-MM-DD</code> is the date</li> <li><code>HH:MM:SS.mmm</code> is the time with milliseconds</li> <li><code>xxxxxxxx</code> is a unique identifier</li> </ul> <p>For example: <code>2026-01-01T00:05:07.453_0000BhCE</code></p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_action_codes/#using-tracklet-ids","title":"Using Tracklet IDs\u00b6","text":"<p>If you know the tracklet submission ID (trksub) for your observations, you can use that as well.</p> <p>The response in this example will indicate a problem (because the supplied trksub,  <code>ABC12345</code> is not a known trksub in the MPC's system).</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_action_codes/#helper-function","title":"Helper Function\u00b6","text":"<p>Here's a convenient helper function for requesting action code retrieval.</p> <p>Again, the response in this example will indicate a problem (because the supplied submission-ID,  <code>your-submission-id</code> is not a valid submission-ID).</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_action_codes/#when-to-use-this-api","title":"When to Use This API\u00b6","text":"<p>You might need to retrieve your action code when:</p> <ol> <li>You've lost the original email containing your action code</li> <li>You need to retract observations that were submitted in error</li> <li>You want to replace observations with corrected astrometry</li> <li>You're verifying submission ownership for data management purposes</li> </ol>"},{"location":"tutorials/notebooks/mpc_tutorial_api_action_codes/#what-action-codes-allow-you-to-do","title":"What Action Codes Allow You To Do\u00b6","text":"<p>With an action code, you can:</p> <ul> <li>Delete (retract) your submitted observations from the MPC database</li> <li>Replace observations with updated versions</li> <li>Prove that you are the original submitter</li> </ul>"},{"location":"tutorials/notebooks/mpc_tutorial_api_action_codes/#security-considerations","title":"Security Considerations\u00b6","text":"<p>The Action Codes API is designed with security in mind:</p> <ol> <li>Action codes are never returned in API responses - they are only sent via email</li> <li>Email goes to the original submitter - only the person who submitted the observations can receive the code</li> <li>Action codes should be kept secret - treat them like passwords</li> </ol> <p>If someone else gains access to your action code, they could potentially retract or modify your observations. Keep your action codes secure.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_action_codes/#summary","title":"Summary\u00b6","text":"<p>The MPC Action Codes API allows you to retrieve action codes for your MPC submissions.</p> <p>Key points:</p> <ul> <li>Endpoint: <code>https://data.minorplanetcenter.net/api/action-codes/retrieve</code></li> <li>Method: POST (not GET)</li> <li>Required parameter: <code>label</code> - your submission identifier</li> <li>Output: Action code is emailed to the original submitter (not returned in response)</li> </ul> <p>Label formats accepted:</p> <ul> <li>Submission ID: <code>2024-01-15T10:30:00.123_ABCD1234</code></li> <li>Tracklet ID: <code>ABC12345</code></li> <li>Track ID: <code>ABCD12345678</code></li> <li>Submission Block ID: <code>2024-01-15T10:30:00.123_ABCD1234_01</code></li> </ul> <p>For questions or feedback, contact the MPC via the Jira Helpdesk.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_cnd/","title":"MPC Check Near-Duplicates (CND) API","text":"In\u00a0[205]: Copied! <pre>import requests\nimport json\n</pre> import requests import json In\u00a0[174]: Copied! <pre># Example observation in MPC 80-column format\nobservation = \"f9671         C2020 02 21.46921410 05 10.27 +04 52 25.7          19.37oV~3n2UT08\"\n\nresponse = requests.get(\n    \"https://data.minorplanetcenter.net/api/cnd\",\n    json={\"obs\": [observation]}\n)\n\nif response.ok:\n    print(json.dumps(response.json(), indent=4))\nelse:\n    print(f\"Error: {response.status_code}\")\n    print(response.content)\n</pre> # Example observation in MPC 80-column format observation = \"f9671         C2020 02 21.46921410 05 10.27 +04 52 25.7          19.37oV~3n2UT08\"  response = requests.get(     \"https://data.minorplanetcenter.net/api/cnd\",     json={\"obs\": [observation]} )  if response.ok:     print(json.dumps(response.json(), indent=4)) else:     print(f\"Error: {response.status_code}\")     print(response.content)   <pre>{\n    \"request\": {\n        \"angle_separation_arcsec\": 5,\n        \"obs\": [\n            \"f9671         C2020 02 21.46921410 05 10.27 +04 52 25.7          19.37oV~3n2UT08\"\n        ],\n        \"omit_separation\": false,\n        \"time_separation_s\": 60\n    },\n    \"results\": {\n        \"f9671         C2020 02 21.46921410 05 10.27 +04 52 25.7          19.37oV~3n2UT08\": [\n            {\n                \"angle_separation_arcsec\": 0.021,\n                \"obs80\": \"f9671         C2020 02 21.46921410 05 10.27 +04 52 25.7          19.37oV~3n2UT08\",\n                \"time_separation_s\": 0.0\n            }\n        ]\n    }\n}\n</pre> In\u00a0[175]: Copied! <pre># Example observation in MPC 80-column format\nobservation = \"f9671         C2020 02 21.46921410 05 10.27 +04 52 25.9          19.37oV     T08\"\n\nresponse = requests.get(\n    \"https://data.minorplanetcenter.net/api/cnd\",\n    json={\"obs\": [observation]}\n)\n\nif response.ok:\n    print(json.dumps(response.json(), indent=4))\nelse:\n    print(f\"Error: {response.status_code}\")\n    print(response.content)\n</pre> # Example observation in MPC 80-column format observation = \"f9671         C2020 02 21.46921410 05 10.27 +04 52 25.9          19.37oV     T08\"  response = requests.get(     \"https://data.minorplanetcenter.net/api/cnd\",     json={\"obs\": [observation]} )  if response.ok:     print(json.dumps(response.json(), indent=4)) else:     print(f\"Error: {response.status_code}\")     print(response.content)   <pre>{\n    \"request\": {\n        \"angle_separation_arcsec\": 5,\n        \"obs\": [\n            \"f9671         C2020 02 21.46921410 05 10.27 +04 52 25.9          19.37oV     T08\"\n        ],\n        \"omit_separation\": false,\n        \"time_separation_s\": 60\n    },\n    \"results\": {\n        \"f9671         C2020 02 21.46921410 05 10.27 +04 52 25.9          19.37oV     T08\": [\n            {\n                \"angle_separation_arcsec\": 0.22,\n                \"obs80\": \"f9671         C2020 02 21.46921410 05 10.27 +04 52 25.7          19.37oV~3n2UT08\",\n                \"time_separation_s\": 0.0\n            }\n        ]\n    }\n}\n</pre> In\u00a0[176]: Copied! <pre># Example observation in MPC 80-column format\nobservation = \"     abc123   C2020 03 23.46921410 05 13.27 +04 52 25.9          19.37oV     T08\"\n\nresponse = requests.get(\n    \"https://data.minorplanetcenter.net/api/cnd\",\n    json={\"obs\": [observation]}\n)\n\nif response.ok:\n    print(json.dumps(response.json(), indent=4))\nelse:\n    print(f\"Error: {response.status_code}\")\n    print(response.content)\n</pre> # Example observation in MPC 80-column format observation = \"     abc123   C2020 03 23.46921410 05 13.27 +04 52 25.9          19.37oV     T08\"  response = requests.get(     \"https://data.minorplanetcenter.net/api/cnd\",     json={\"obs\": [observation]} )  if response.ok:     print(json.dumps(response.json(), indent=4)) else:     print(f\"Error: {response.status_code}\")     print(response.content)   <pre>{\n    \"request\": {\n        \"angle_separation_arcsec\": 5,\n        \"obs\": [\n            \"     abc123   C2020 03 23.46921410 05 13.27 +04 52 25.9          19.37oV     T08\"\n        ],\n        \"omit_separation\": false,\n        \"time_separation_s\": 60\n    },\n    \"results\": {\n        \"     abc123   C2020 03 23.46921410 05 13.27 +04 52 25.9          19.37oV     T08\": \"No results returned which is strange; the search term should be in the database.\"\n    }\n}\n</pre> In\u00a0[207]: Copied! <pre>def check_near_duplicates(observations, time_separation_s:float=60, angle_separation_arcsec:float=5, omit_separation:bool=False):\n    \"\"\"\n    Check if observations have near-duplicates in the MPC database.\n    \n    Parameters\n    ----------\n    observations : str or list\n        Single observation or list of observations in MPC 80-column format\n    time_separation_s : float\n        Time threshold in seconds (0-60)\n    angle_separation_arcsec : float\n        Angle threshold in arcseconds (0-10)\n    omit_separation : bool\n        Whether to omit the separation values\n    \n    Returns\n    -------\n    dict\n        Dictionary mapping each observation to its near-duplicates\n    \"\"\"\n    if isinstance(observations, str):\n        observations = [observations]\n    \n    response = requests.get(\n        \"https://data.minorplanetcenter.net/api/cnd\",\n        json={\n            \"obs\": observations,\n            \"time_separation_s\": time_separation_s,\n            \"angle_separation_arcsec\": angle_separation_arcsec,\n            \"omit_separation\":omit_separation\n        }\n    )\n\n    return response.json().get('results', {})\n\n\ndef count_duplicates(observations, **kwargs):\n    \"\"\"\n    Simple count of near-duplicates for each input observation\n    \n    Returns\n    -------\n    dict\n        key:input observation\n        value: count of matches \n    \"\"\"\n    results = check_near_duplicates(observations, **kwargs)\n    return {k:len(v) if isinstance(v,list) else 0 for k,v in results.items()  }\n</pre> def check_near_duplicates(observations, time_separation_s:float=60, angle_separation_arcsec:float=5, omit_separation:bool=False):     \"\"\"     Check if observations have near-duplicates in the MPC database.          Parameters     ----------     observations : str or list         Single observation or list of observations in MPC 80-column format     time_separation_s : float         Time threshold in seconds (0-60)     angle_separation_arcsec : float         Angle threshold in arcseconds (0-10)     omit_separation : bool         Whether to omit the separation values          Returns     -------     dict         Dictionary mapping each observation to its near-duplicates     \"\"\"     if isinstance(observations, str):         observations = [observations]          response = requests.get(         \"https://data.minorplanetcenter.net/api/cnd\",         json={             \"obs\": observations,             \"time_separation_s\": time_separation_s,             \"angle_separation_arcsec\": angle_separation_arcsec,             \"omit_separation\":omit_separation         }     )      return response.json().get('results', {})   def count_duplicates(observations, **kwargs):     \"\"\"     Simple count of near-duplicates for each input observation          Returns     -------     dict         key:input observation         value: count of matches      \"\"\"     results = check_near_duplicates(observations, **kwargs)     return {k:len(v) if isinstance(v,list) else 0 for k,v in results.items()  }   In\u00a0[187]: Copied! <pre>check_near_duplicates(\"     abc123   C2020 03 23.46921410 05 13.27 +04 52 25.9          19.37oV     T08\")\n</pre> check_near_duplicates(\"     abc123   C2020 03 23.46921410 05 13.27 +04 52 25.9          19.37oV     T08\")  Out[187]: <pre>{'     abc123   C2020 03 23.46921410 05 13.27 +04 52 25.9          19.37oV     T08': 'No results returned which is strange; the search term should be in the database.'}</pre> In\u00a0[188]: Copied! <pre>check_near_duplicates(\"     K10CM6D  C2023 05 16.43686615 56 36.807-23 12 43.67         21.55wX~6o8oF51\")\n</pre> check_near_duplicates(\"     K10CM6D  C2023 05 16.43686615 56 36.807-23 12 43.67         21.55wX~6o8oF51\")  Out[188]: <pre>{'     K10CM6D  C2023 05 16.43686615 56 36.807-23 12 43.67         21.55wX~6o8oF51': [{'angle_separation_arcsec': 2.404,\n   'obs80': 'h3461         C2023 05 16.43686615 56 36.976-23 12 43.05         21.50wX~6pX9F51',\n   'time_separation_s': 0.0},\n  {'angle_separation_arcsec': 0.005,\n   'obs80': '     K10CM6D  C2023 05 16.43686615 56 36.807-23 12 43.67         21.55wX~6o8oF51',\n   'time_separation_s': 0.0}]}</pre> In\u00a0[189]: Copied! <pre>observation = [\n    '     K10CM6D  C2023 05 16.43686615 56 36.807-23 12 43.67         21.55wX~6o8oF51',\n    '     K10HB1E  S2010 04 24.76254008 07 33.34 -16 07 52.4                W     C51',\n    '     K10HB1E  s2010 04 24.7625401 - 3527.1820 + 5686.2015 - 1729.5218        C51'\n]\ncount_duplicates(observation)\n</pre> observation = [     '     K10CM6D  C2023 05 16.43686615 56 36.807-23 12 43.67         21.55wX~6o8oF51',     '     K10HB1E  S2010 04 24.76254008 07 33.34 -16 07 52.4                W     C51',     '     K10HB1E  s2010 04 24.7625401 - 3527.1820 + 5686.2015 - 1729.5218        C51' ] count_duplicates(observation) Out[189]: <pre>{'     K10CM6D  C2023 05 16.43686615 56 36.807-23 12 43.67         21.55wX~6o8oF51': 2,\n '     K10HB1E  S2010 04 24.76254008 07 33.34 -16 07 52.4                W     C51     K10HB1E  s2010 04 24.7625401 - 3527.1820 + 5686.2015 - 1729.5218        C51': 2}</pre> In\u00a0[190]: Copied! <pre>count_duplicates(\"     abc123   C2020 03 23.46921410 05 13.27 +04 52 25.9          19.37oV     T08\")\n</pre> count_duplicates(\"     abc123   C2020 03 23.46921410 05 13.27 +04 52 25.9          19.37oV     T08\") Out[190]: <pre>{'     abc123   C2020 03 23.46921410 05 13.27 +04 52 25.9          19.37oV     T08': 0}</pre> In\u00a0[191]: Copied! <pre># Let's examine the results more carefully\n\n# Check results for the observation we queried\nfor input_obs, res_list in check_near_duplicates(\"f9671         C2020 02 21.46921410 05 10.27 +04 52 25.9          19.37oV     T08\").items(): \n    print(f\"Input Obs:   {input_obs}\")\n    for item in res_list:\n        print(f\"    - Match: {item.get('obs80', 'N/A')}\")\n        print(f\"    - Time separation: {item.get('time_separation_s', 'N/A')} seconds\")\n        print(f\"    - Angle separation: {item.get('angle_separation_arcsec', 'N/A')} arcsec\")\n</pre> # Let's examine the results more carefully  # Check results for the observation we queried for input_obs, res_list in check_near_duplicates(\"f9671         C2020 02 21.46921410 05 10.27 +04 52 25.9          19.37oV     T08\").items():      print(f\"Input Obs:   {input_obs}\")     for item in res_list:         print(f\"    - Match: {item.get('obs80', 'N/A')}\")         print(f\"    - Time separation: {item.get('time_separation_s', 'N/A')} seconds\")         print(f\"    - Angle separation: {item.get('angle_separation_arcsec', 'N/A')} arcsec\")  <pre>Input Obs:   f9671         C2020 02 21.46921410 05 10.27 +04 52 25.9          19.37oV     T08\n    - Match: f9671         C2020 02 21.46921410 05 10.27 +04 52 25.7          19.37oV~3n2UT08\n    - Time separation: 0.0 seconds\n    - Angle separation: 0.22 arcsec\n</pre> In\u00a0[182]: Copied! <pre># Using strict matching thresholds we find no matches ... \ncount_duplicates(\"f9671         C2020 02 21.46941410 05 10.37 +04 52 29.9          19.37oV     T08\", \n    **{'time_separation_s' : 10, 'angle_separation_arcsec': 1})\n        \n</pre> # Using strict matching thresholds we find no matches ...  count_duplicates(\"f9671         C2020 02 21.46941410 05 10.37 +04 52 29.9          19.37oV     T08\",      **{'time_separation_s' : 10, 'angle_separation_arcsec': 1})          <pre>check_near_duplicates:time_separation_s=10,angle_separation_arcsec=1,response.json().get('results', {})={'f9671         C2020 02 21.46941410 05 10.37 +04 52 29.9          19.37oV     T08': 'No results returned which is strange; the search term should be in the database.'}\n</pre> Out[182]: <pre>{'f9671         C2020 02 21.46941410 05 10.37 +04 52 29.9          19.37oV     T08': 0}</pre> In\u00a0[194]: Copied! <pre># Using more tolerant thresholds, for the same input observation we find a match \ncount_duplicates(\"f9671         C2020 02 21.46941410 05 10.37 +04 52 29.9          19.37oV     T08\", \n    **{'time_separation_s' : 30, 'angle_separation_arcsec': 5})\n</pre> # Using more tolerant thresholds, for the same input observation we find a match  count_duplicates(\"f9671         C2020 02 21.46941410 05 10.37 +04 52 29.9          19.37oV     T08\",      **{'time_separation_s' : 30, 'angle_separation_arcsec': 5}) Out[194]: <pre>{'f9671         C2020 02 21.46941410 05 10.37 +04 52 29.9          19.37oV     T08': 1}</pre> In\u00a0[208]: Copied! <pre>print(\"With separation values:\")\nprint(check_near_duplicates(\"     K10CM6D  C2023 05 16.43686615 56 36.807-23 12 43.67         21.55wX~6o8oF51\", **{\"omit_separation\": False}))\n\nprint(\"\\nWithout separation values:\")\nprint(check_near_duplicates(\"     K10CM6D  C2023 05 16.43686615 56 36.807-23 12 43.67         21.55wX~6o8oF51\", **{\"omit_separation\": True}))\n</pre> print(\"With separation values:\") print(check_near_duplicates(\"     K10CM6D  C2023 05 16.43686615 56 36.807-23 12 43.67         21.55wX~6o8oF51\", **{\"omit_separation\": False}))  print(\"\\nWithout separation values:\") print(check_near_duplicates(\"     K10CM6D  C2023 05 16.43686615 56 36.807-23 12 43.67         21.55wX~6o8oF51\", **{\"omit_separation\": True}))  <pre>With separation values:\n{'     K10CM6D  C2023 05 16.43686615 56 36.807-23 12 43.67         21.55wX~6o8oF51': [{'angle_separation_arcsec': 2.404, 'obs80': 'h3461         C2023 05 16.43686615 56 36.976-23 12 43.05         21.50wX~6pX9F51', 'time_separation_s': 0.0}, {'angle_separation_arcsec': 0.005, 'obs80': '     K10CM6D  C2023 05 16.43686615 56 36.807-23 12 43.67         21.55wX~6o8oF51', 'time_separation_s': 0.0}]}\n\nWithout separation values:\n{'     K10CM6D  C2023 05 16.43686615 56 36.807-23 12 43.67         21.55wX~6o8oF51': [{'obs80': 'h3461         C2023 05 16.43686615 56 36.976-23 12 43.05         21.50wX~6pX9F51'}, {'obs80': '     K10CM6D  C2023 05 16.43686615 56 36.807-23 12 43.67         21.55wX~6o8oF51'}]}\n</pre>"},{"location":"tutorials/notebooks/mpc_tutorial_api_cnd/#mpc-check-near-duplicates-cnd-api","title":"MPC Check Near-Duplicates (CND) API\u00b6","text":""},{"location":"tutorials/notebooks/mpc_tutorial_api_cnd/#this-tutorial-provides-information-on-how-to-use-the-minor-planet-centers-check-near-duplicates-api","title":"This tutorial provides information on how to use the Minor Planet Center's Check Near-Duplicates API.\u00b6","text":"<p>The Minor Planet Center's <code>Check Near-Duplicates</code> (CND) service identifies published observations in the MPC database that can be considered near-duplicates of the observations you provide. This helps detect potential duplicate submissions before they enter the database.</p> <p>This is useful when you want to:</p> <ul> <li>Check if observations have already been submitted and published by the MPC</li> <li>Verify that your observations are unique before submission</li> </ul> <p>The CND API is a REST endpoint. You can send GET requests to:</p> <pre><code>https://data.minorplanetcenter.net/api/cnd</code></pre> <p>In the examples below we use Python code to query the API.</p> <p>Further information and documentation can be found at:</p> <ul> <li>https://minorplanetcenter.net/mpcops/documentation/cnd-api/</li> </ul>"},{"location":"tutorials/notebooks/mpc_tutorial_api_cnd/#import-packages","title":"Import Packages\u00b6","text":"<p>Here we import the standard Python packages needed to call the API and interpret the returned data.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_cnd/#api-parameters","title":"API Parameters\u00b6","text":"<p>The CND API accepts the following parameters:</p> Parameter Type Required Description Default <code>obs</code> List of strings Yes 80- or 160-character observation records in MPC format None <code>time_separation_s</code> Float No Temporal threshold in seconds (0-60) 60 <code>angle_separation_arcsec</code> Float No Spatial threshold in arcseconds (0-10) 5 <code>omit_separation</code> Boolean No Exclude separation values from results false"},{"location":"tutorials/notebooks/mpc_tutorial_api_cnd/#what-counts-as-a-near-duplicate","title":"What Counts as a Near-Duplicate?\u00b6","text":"<p>An observation is considered a near-duplicate if:</p> <ul> <li>It is within <code>time_separation_s</code> seconds of your observation time</li> <li>It is within <code>angle_separation_arcsec</code> arcseconds of your observation position</li> <li>Both conditions must be met</li> </ul>"},{"location":"tutorials/notebooks/mpc_tutorial_api_cnd/#observation-format","title":"Observation Format\u00b6","text":"<p>Observations must be provided in the MPC 80-column format. Here's an example:</p> <p><code>'     K10CM6D  C2023 05 16.43686615 56 36.807-23 12 43.67         21.55wX     F51'</code></p> <p>The format includes:</p> <ul> <li>Columns 1-12: Packed designation (in this example the firrt 5 columns are blank)</li> <li>Column 13: Discovery asterisk (if applicable)</li> <li>Column 14: Note 1</li> <li>Column 15: Note 2 (C = CCD)</li> <li>Columns 16-32: Date and time of observation</li> <li>Columns 33-44: Right Ascension</li> <li>Columns 45-56: Declination</li> <li>Columns 57-65: Blank</li> <li>Columns 66-70: Magnitude</li> <li>Column 71: Band</li> <li>Columns 72-77: Blank</li> <li>Columns 78-80: Observatory code</li> </ul> <p>NB: The above column enumeration assumes starting from <code>1</code>, not <code>0</code>.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_cnd/#basic-query-single-observation","title":"Basic Query: Single Observation:\u00b6","text":""},{"location":"tutorials/notebooks/mpc_tutorial_api_cnd/#exact-match-to-database-observation","title":"Exact Match to Database Observation\u00b6","text":"<p>Here we check if a single observation has a near-duplicate in the MPC database.</p> <p>In this example there is an exact database match.</p> <p>N.B. 'exact' matches may show non-zero angular separation values. This is due to the numerical difference between the RA/dec values stored in the database and those given in the obs80 string.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_cnd/#near-match-to-database-observation","title":"Near-Match to Database Observation\u00b6","text":"<p>Here we check if a single observation has a near-duplicate in the MPC database.</p> <p>In this example there is a near-match to the database (note that the final digit of the declination differs: <code>25.9</code> versus <code>25.7</code>).</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_cnd/#no-match-to-database","title":"No Match to Database\u00b6","text":"<p>Here we check if a single observation has a near-duplicate in the MPC database.</p> <p>In this example there is a no match to the database.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_cnd/#helper-function","title":"Helper Function\u00b6","text":"<p>Here's a convenient helper function for checking near-duplicates.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_cnd/#demo-helper-function-check_near_duplicates","title":"Demo helper function: <code>check_near_duplicates</code>\u00b6","text":""},{"location":"tutorials/notebooks/mpc_tutorial_api_cnd/#demo-helper-function-count_duplicates","title":"Demo helper function: <code>count_duplicates</code>\u00b6","text":"<p>N.B.(1): You can search multiple observations at once.</p> <p>N.B.(2): Here the input obs80 data contains a two-line observation. As such, the returned \"key\" is 160 characters long for that observation.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_cnd/#interpreting-results","title":"Interpreting Results\u00b6","text":"<p>The response contains:</p> <ul> <li><code>request</code>: Echo of your query parameters</li> <li><code>results</code>: Dictionary where each key is one of your observations, mapped to a list of matching near-duplicates</li> </ul> <p>Each match includes:</p> <ul> <li><code>obs80</code>: The near-duplicate observation record from the MPC database</li> <li><code>time_separation_s</code>: Time difference in seconds</li> <li><code>angle_separation_arcsec</code>: Angular separation in arcseconds</li> </ul>"},{"location":"tutorials/notebooks/mpc_tutorial_api_cnd/#custom-thresholds","title":"Custom Thresholds\u00b6","text":"<p>You can adjust the time and angle thresholds to make the matching stricter or more lenient.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_cnd/#omitting-separation-values","title":"Omitting Separation Values\u00b6","text":"<p>If you only need to know whether duplicates exist (not the separation values), use <code>omit_separation=true</code>.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_cnd/#summary","title":"Summary\u00b6","text":"<p>The MPC Check Near-Duplicates API helps identify potential duplicate observations before submission.</p> <p>Key points:</p> <ul> <li>Endpoint: <code>https://data.minorplanetcenter.net/api/cnd</code></li> <li>Required parameter: <code>obs</code> - list of 80-column observation records</li> <li>Optional thresholds: <code>time_separation_s</code> (0-60s, default 60) and <code>angle_separation_arcsec</code> (0-10\", default 5)</li> <li>Use case: Check observations before submitting to avoid duplicates</li> </ul> <p>For questions or feedback, contact the MPC via the Jira Helpdesk.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_designation_identifier/","title":"MPC Designation Identifier","text":"In\u00a0[28]: Copied! <pre>import requests\nimport json\n</pre> import requests import json In\u00a0[29]: Copied! <pre># Call the api using the `requests` package \nresponse = requests.get(\"https://data.minorplanetcenter.net/api/query-identifier\", json= {\"ids\": [\"Sedna\"]})\n\n# Print the response, making use of the `json` package\nsedna_json = response.json()\nprint(json.dumps(sedna_json, indent=4))\n</pre> # Call the api using the `requests` package  response = requests.get(\"https://data.minorplanetcenter.net/api/query-identifier\", json= {\"ids\": [\"Sedna\"]})  # Print the response, making use of the `json` package sedna_json = response.json() print(json.dumps(sedna_json, indent=4))  <pre>{\n    \"Sedna\": {\n        \"citation\": \"(90377) Sedna = 2003 VB12&lt;br&gt;&lt;br&gt;Sedna is the Inuit goddess of the sea and the mother of all sea creatures. She rewards the people of the land with food from the sea. Without her blessing, hunts fail and the people starve. She is thus one of the most important figures in Inuit legend. \",\n        \"disambiguation_list\": null,\n        \"dual_status_info\": null,\n        \"found\": 1,\n        \"iau_designation\": \"(90377)\",\n        \"name\": \"Sedna\",\n        \"object_type\": [\n            \"Minor Planet\",\n            0\n        ],\n        \"orbfit_name\": \"90377\",\n        \"packed_permid\": \"90377\",\n        \"packed_primary_provisional_designation\": \"K03V12B\",\n        \"packed_secondary_provisional_designations\": [],\n        \"permid\": \"90377\",\n        \"unpacked_primary_provisional_designation\": \"2003 VB12\",\n        \"unpacked_secondary_provisional_designations\": []\n    }\n}\n</pre> In\u00a0[30]: Copied! <pre># Call the api using the `requests` package, now using one of the alternate designations for Sedna: \"2003 VB12\"\nresponse = requests.get(\"https://data.minorplanetcenter.net/api/query-identifier\", json= {\"ids\": [\"2003 VB12\"]})\n\n# Print the response, making use of the `json` package\nalternate_json = response.json()\nprint(json.dumps(alternate_json, indent=4))\n\n# Explicitly check that the results in `alternate_json` are the same as those returned in `sedna_json` (above)\nprint( \"\\nReturned data are identical.\" if sedna_json[\"Sedna\"] == alternate_json[\"2003 VB12\"] else \"\\nReturned data are different.\" )\n</pre> # Call the api using the `requests` package, now using one of the alternate designations for Sedna: \"2003 VB12\" response = requests.get(\"https://data.minorplanetcenter.net/api/query-identifier\", json= {\"ids\": [\"2003 VB12\"]})  # Print the response, making use of the `json` package alternate_json = response.json() print(json.dumps(alternate_json, indent=4))  # Explicitly check that the results in `alternate_json` are the same as those returned in `sedna_json` (above) print( \"\\nReturned data are identical.\" if sedna_json[\"Sedna\"] == alternate_json[\"2003 VB12\"] else \"\\nReturned data are different.\" ) <pre>{\n    \"2003 VB12\": {\n        \"citation\": \"(90377) Sedna = 2003 VB12&lt;br&gt;&lt;br&gt;Sedna is the Inuit goddess of the sea and the mother of all sea creatures. She rewards the people of the land with food from the sea. Without her blessing, hunts fail and the people starve. She is thus one of the most important figures in Inuit legend. \",\n        \"disambiguation_list\": null,\n        \"dual_status_info\": null,\n        \"found\": 1,\n        \"iau_designation\": \"(90377)\",\n        \"name\": \"Sedna\",\n        \"object_type\": [\n            \"Minor Planet\",\n            0\n        ],\n        \"orbfit_name\": \"90377\",\n        \"packed_permid\": \"90377\",\n        \"packed_primary_provisional_designation\": \"K03V12B\",\n        \"packed_secondary_provisional_designations\": [],\n        \"permid\": \"90377\",\n        \"unpacked_primary_provisional_designation\": \"2003 VB12\",\n        \"unpacked_secondary_provisional_designations\": []\n    }\n}\n\nReturned data are identical.\n</pre> In\u00a0[31]: Copied! <pre># Create a list of the different designations that we would like information on:\nmy_list = {\"ids\": [\"Ceres\", \"2020 AB1\"]}\n\n# Call the api using the `requests` package &amp; print the results \nresponse = requests.get(\"https://data.minorplanetcenter.net/api/query-identifier\", json=my_list)\nmulti_object_json = response.json()\nprint(json.dumps(multi_object_json, indent=4))\n</pre> # Create a list of the different designations that we would like information on: my_list = {\"ids\": [\"Ceres\", \"2020 AB1\"]}  # Call the api using the `requests` package &amp; print the results  response = requests.get(\"https://data.minorplanetcenter.net/api/query-identifier\", json=my_list) multi_object_json = response.json() print(json.dumps(multi_object_json, indent=4))  <pre>{\n    \"2020 AB1\": {\n        \"citation\": null,\n        \"disambiguation_list\": null,\n        \"dual_status_info\": null,\n        \"found\": 1,\n        \"iau_designation\": \"2020 AB1\",\n        \"name\": null,\n        \"object_type\": [\n            \"Minor Planet\",\n            0\n        ],\n        \"orbfit_name\": \"2020AB1\",\n        \"packed_permid\": null,\n        \"packed_primary_provisional_designation\": \"K20A01B\",\n        \"packed_secondary_provisional_designations\": [\n            \"K16D00O\"\n        ],\n        \"permid\": null,\n        \"unpacked_primary_provisional_designation\": \"2020 AB1\",\n        \"unpacked_secondary_provisional_designations\": [\n            \"2016 DO\"\n        ]\n    },\n    \"Ceres\": {\n        \"citation\": null,\n        \"disambiguation_list\": null,\n        \"dual_status_info\": null,\n        \"found\": 1,\n        \"iau_designation\": \"(1)\",\n        \"name\": \"Ceres\",\n        \"object_type\": [\n            \"Minor Planet\",\n            0\n        ],\n        \"orbfit_name\": \"1\",\n        \"packed_permid\": \"00001\",\n        \"packed_primary_provisional_designation\": \"I01A00A\",\n        \"packed_secondary_provisional_designations\": [\n            \"I99O00F\",\n            \"J43X00B\"\n        ],\n        \"permid\": \"1\",\n        \"unpacked_primary_provisional_designation\": \"A801 AA\",\n        \"unpacked_secondary_provisional_designations\": [\n            \"1943 XB\",\n            \"A899 OF\"\n        ]\n    }\n}\n</pre>"},{"location":"tutorials/notebooks/mpc_tutorial_api_designation_identifier/#mpc-designation-identifier","title":"MPC Designation Identifier\u00b6","text":""},{"location":"tutorials/notebooks/mpc_tutorial_api_designation_identifier/#this-tutorial-provides-information-on-how-to-use-the-minor-planet-centers-designation-identifier-api","title":"This tutorial provides information on how to use the Minor Planet Center's Designation Identifier API.\u00b6","text":"<p>The Minor Planet Center's <code>Designation Identifier</code> service will return information on the various designations assigned to any given object.</p> <p>This includes information such as:</p> <ul> <li>Name: The name of the object, if available.</li> <li>Citation: The citation of the object, if available.</li> <li>Permanent ID: The object's permanent ID (unpacked number), if available.</li> <li>Object Type: The object type classification.</li> <li>IAU Designation: The IAU designation of the object (number if numbered, unpacked primary provisional designation if unnumbered).</li> <li>Unpacked Primary Provisional Designation: The unpacked primary provisional designation of the object. (https://minorplanetcenter.net/mpcops/documentation/provisional-designation-definition/)</li> <li>Unpacked Secondary Provisional Designations: A list of unpacked secondary provisional designations, if available. (https://minorplanetcenter.net/mpcops/documentation/provisional-designation-definition/)</li> <li>Packed Permanent ID: The object's packed permanent ID (packed number), if available.</li> <li>Packed Primary Provisional Designation: The packed primary provisional designation of the object. (https://minorplanetcenter.net/mpcops/documentation/provisional-designation-definition/)</li> <li>Packed Secondary Provisional Designations: A list of packed secondary provisional designations, if available. (https://minorplanetcenter.net/mpcops/documentation/provisional-designation-definition/)</li> </ul> <p>The Designation Identifier API is a REST endpoint, therefore you can use your language of choice to send GET requests to the following URL:</p> <pre><code>`https://data.minorplanetcenter.net/api/query-identifier`</code></pre> <p>In the examples below we use python code to query the api.</p> <p>Further information and documentation concerning the <code>Designation Identifier</code> service and its associated api can be found at:</p> <ul> <li>https://data.minorplanetcenter.net/explorer/?tab=Documentation</li> <li>https://minorplanetcenter.net/mpcops/documentation/designation-identifier-api/</li> </ul>"},{"location":"tutorials/notebooks/mpc_tutorial_api_designation_identifier/#import-packages","title":"Import Packages\u00b6","text":"<p>Here we import the standard python packages need to call the api &amp; interpret the returned data</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_designation_identifier/#single-object-query","title":"Single Object Query\u00b6","text":"<p>Here we query the <code>Designation Identifier</code> API for information concerning the designations associated with the object named <code>Sedna</code>.</p> <p>Among other pieces of information, we see that the permanent-identification (<code>number</code>) for <code>Sedna</code> is <code>90377</code></p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_designation_identifier/#alternate-single-object-query","title":"Alternate single object query\u00b6","text":"<p>Here we demonstrate that if we query for <code>Sedna</code> using one of its alternative designations (e.g. <code>2003 VB12</code>), the returned information is essentially the same (only the returned search-string is different).</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_designation_identifier/#multi-object-query","title":"Multi Object Query\u00b6","text":"<p>Here we make a single query to the <code>Designation Identifier</code> API for information concerning multiple different designations.</p> <p>Among other things, we see that:</p> <ul> <li>The returned <code>json</code> object (named \"multi_object_json\" below) contains multiple sets of results, organized using the different supplied designations as \"keys\".</li> <li>The object <code>Ceres</code> has multiple associated designations, including the \"secondary designations\"  <code>1943 XB</code> and <code>A899 OF</code>.</li> </ul>"},{"location":"tutorials/notebooks/mpc_tutorial_api_mpecs/","title":"MPC MPECs API","text":"In\u00a0[\u00a0]: Copied! <pre>import requests\nimport json\n</pre> import requests import json In\u00a0[\u00a0]: Copied! <pre># Search for MPECs mentioning Apophis\nresponse = requests.get(\n    \"https://data.minorplanetcenter.net/api/mpecs\",\n    json=[\"Apophis\"]\n)\n\nif response.ok:\n    result = response.json()\n    \n    # Results are keyed by search term\n    mpecs = result.get(\"Apophis\", [])\n    print(f\"Found {len(mpecs)} MPECs for Apophis\")\n    print(\"\\nFirst 5 MPECs:\")\n    for mpec in mpecs[:5]:\n        print(f\"  {mpec['fullname']}: {mpec['title'][:50]}...\")\nelse:\n    print(f\"Error: {response.status_code}\")\n</pre> # Search for MPECs mentioning Apophis response = requests.get(     \"https://data.minorplanetcenter.net/api/mpecs\",     json=[\"Apophis\"] )  if response.ok:     result = response.json()          # Results are keyed by search term     mpecs = result.get(\"Apophis\", [])     print(f\"Found {len(mpecs)} MPECs for Apophis\")     print(\"\\nFirst 5 MPECs:\")     for mpec in mpecs[:5]:         print(f\"  {mpec['fullname']}: {mpec['title'][:50]}...\") else:     print(f\"Error: {response.status_code}\") In\u00a0[\u00a0]: Copied! <pre># Get MPECs for a specific object\nresponse = requests.get(\n    \"https://data.minorplanetcenter.net/api/mpecs\",\n    json=[\"2023 BU\"]  # Famous close-approach asteroid\n)\n\nif response.ok:\n    result = response.json()\n    mpecs = result.get(\"2023 BU\", [])\n    \n    print(f\"MPECs for 2023 BU:\\n\")\n    for mpec in mpecs:\n        print(f\"MPEC: {mpec['fullname']}\")\n        print(f\"  Title: {mpec['title']}\")\n        print(f\"  Published: {mpec['pubdate']}\")\n        print(f\"  Link: {mpec['link']}\")\n        print()\nelse:\n    print(f\"Error: {response.status_code}\")\n</pre> # Get MPECs for a specific object response = requests.get(     \"https://data.minorplanetcenter.net/api/mpecs\",     json=[\"2023 BU\"]  # Famous close-approach asteroid )  if response.ok:     result = response.json()     mpecs = result.get(\"2023 BU\", [])          print(f\"MPECs for 2023 BU:\\n\")     for mpec in mpecs:         print(f\"MPEC: {mpec['fullname']}\")         print(f\"  Title: {mpec['title']}\")         print(f\"  Published: {mpec['pubdate']}\")         print(f\"  Link: {mpec['link']}\")         print() else:     print(f\"Error: {response.status_code}\") In\u00a0[\u00a0]: Copied! <pre># Search for multiple objects\nsearch_terms = [\"Sedna\", \"Bennu\", \"`Oumuamua\"]\n\nresponse = requests.get(\n    \"https://data.minorplanetcenter.net/api/mpecs\",\n    json=search_terms\n)\n\nif response.ok:\n    result = response.json()\n    \n    for term in search_terms:\n        mpecs = result.get(term, [])\n        print(f\"{term}: {len(mpecs)} MPECs\")\n        if mpecs:\n            # Show the most recent MPEC\n            recent = mpecs[0]\n            print(f\"  Most recent: {recent['fullname']} - {recent['title'][:40]}...\")\n        print()\nelse:\n    print(f\"Error: {response.status_code}\")\n</pre> # Search for multiple objects search_terms = [\"Sedna\", \"Bennu\", \"`Oumuamua\"]  response = requests.get(     \"https://data.minorplanetcenter.net/api/mpecs\",     json=search_terms )  if response.ok:     result = response.json()          for term in search_terms:         mpecs = result.get(term, [])         print(f\"{term}: {len(mpecs)} MPECs\")         if mpecs:             # Show the most recent MPEC             recent = mpecs[0]             print(f\"  Most recent: {recent['fullname']} - {recent['title'][:40]}...\")         print() else:     print(f\"Error: {response.status_code}\") In\u00a0[\u00a0]: Copied! <pre># Search for MPECs with titles containing \"2024 B\"\nsearch_str=\"2024 B%\"\n\n# Note: This will return many results\nresponse = requests.get(\n    \"https://data.minorplanetcenter.net/api/mpecs\",\n    json=[search_str]  # MPECs for objects with designations starting with \"2024 B\"\n)\n\nif response.ok:\n    result = response.json()\n    mpecs = result.get(search_str, [])\n    \n    print(f\"Found {len(mpecs)} MPECs matching '{search_str}'\")\n    print(\"\\nFirst 10:\")\n    for mpec in mpecs[:10]:\n        print(f\"  {mpec['fullname']}: {mpec['title'][:50]}\")\nelse:\n    print(f\"Error: {response.status_code}\")\n</pre> # Search for MPECs with titles containing \"2024 B\" search_str=\"2024 B%\"  # Note: This will return many results response = requests.get(     \"https://data.minorplanetcenter.net/api/mpecs\",     json=[search_str]  # MPECs for objects with designations starting with \"2024 B\" )  if response.ok:     result = response.json()     mpecs = result.get(search_str, [])          print(f\"Found {len(mpecs)} MPECs matching '{search_str}'\")     print(\"\\nFirst 10:\")     for mpec in mpecs[:10]:         print(f\"  {mpec['fullname']}: {mpec['title'][:50]}\") else:     print(f\"Error: {response.status_code}\") In\u00a0[\u00a0]: Copied! <pre># Query specific MPECs by their identifiers\nmpec_ids = [\"2017-U181\", \"2017-U183\"]  # `Oumuamua discovery and follow-up\n\nresponse = requests.get(\n    \"https://data.minorplanetcenter.net/api/mpecs\",\n    json=mpec_ids\n)\n\nif response.ok:\n    result = response.json()\n    \n    for mpec_id in mpec_ids:\n        mpecs = result.get(mpec_id, [])\n        if mpecs:\n            mpec = mpecs[0]\n            print(f\"MPEC {mpec_id}:\")\n            print(f\"  Title: {mpec['title']}\")\n            print(f\"  Published: {mpec['pubdate']}\")\n            print(f\"  Link: {mpec['link']}\")\n            print()\n        else:\n            print(f\"MPEC {mpec_id}: Not found\")\nelse:\n    print(f\"Error: {response.status_code}\")\n</pre> # Query specific MPECs by their identifiers mpec_ids = [\"2017-U181\", \"2017-U183\"]  # `Oumuamua discovery and follow-up  response = requests.get(     \"https://data.minorplanetcenter.net/api/mpecs\",     json=mpec_ids )  if response.ok:     result = response.json()          for mpec_id in mpec_ids:         mpecs = result.get(mpec_id, [])         if mpecs:             mpec = mpecs[0]             print(f\"MPEC {mpec_id}:\")             print(f\"  Title: {mpec['title']}\")             print(f\"  Published: {mpec['pubdate']}\")             print(f\"  Link: {mpec['link']}\")             print()         else:             print(f\"MPEC {mpec_id}: Not found\") else:     print(f\"Error: {response.status_code}\") In\u00a0[\u00a0]: Copied! <pre># Compare packed vs unpacked designation queries\n# K14A00A is the packed form of 2014 AA\nsearch_terms = [\"K14A00A\", \"2014 AA\"]\n\nresponse = requests.get(\n    \"https://data.minorplanetcenter.net/api/mpecs\",\n    json=search_terms\n)\n\nif response.ok:\n    result = response.json()\n    \n    for term in search_terms:\n        mpecs = result.get(term, [])\n        print(f\"'{term}': {len(mpecs)} MPECs found\")\nelse:\n    print(f\"Error: {response.status_code}\")\n</pre> # Compare packed vs unpacked designation queries # K14A00A is the packed form of 2014 AA search_terms = [\"K14A00A\", \"2014 AA\"]  response = requests.get(     \"https://data.minorplanetcenter.net/api/mpecs\",     json=search_terms )  if response.ok:     result = response.json()          for term in search_terms:         mpecs = result.get(term, [])         print(f\"'{term}': {len(mpecs)} MPECs found\") else:     print(f\"Error: {response.status_code}\") In\u00a0[\u00a0]: Copied! <pre>def get_mpecs(search_term):\n    \"\"\"\n    Get MPECs for a single search term.\n    \n    Parameters\n    ----------\n    search_term : str\n        Object designation, MPEC name, or wildcard pattern\n    \n    Returns\n    -------\n    list\n        List of MPEC dictionaries\n    \"\"\"\n    response = requests.get(\n        \"https://data.minorplanetcenter.net/api/mpecs\",\n        json=[search_term]\n    )\n    \n    if not response.ok:\n        return []\n    \n    return response.json().get(search_term, [])\n\n\ndef get_discovery_mpec(designation):\n    \"\"\"\n    Get the discovery MPEC for an object.\n    \n    The discovery MPEC is typically the oldest MPEC for an object.\n    \n    Parameters\n    ----------\n    designation : str\n        Object designation\n    \n    Returns\n    -------\n    dict or None\n        Discovery MPEC info, or None if not found\n    \"\"\"\n    mpecs = get_mpecs(designation)\n    if not mpecs:\n        return None\n    \n    # Sort by publication date to find the earliest\n    sorted_mpecs = sorted(mpecs, key=lambda x: x.get('pubdate', ''))\n    return sorted_mpecs[0] if sorted_mpecs else None\n\n\ndef get_mpec_url(designation):\n    \"\"\"\n    Get the URL of the discovery MPEC for an object.\n    \n    Parameters\n    ----------\n    designation : str\n        Object designation\n    \n    Returns\n    -------\n    str or None\n        URL to the discovery MPEC\n    \"\"\"\n    mpec = get_discovery_mpec(designation)\n    return mpec.get('link') if mpec else None\n\n\n# Example usage\nprint(\"Discovery MPEC for Bennu:\")\ndiscovery = get_discovery_mpec(\"Bennu\")\nif discovery:\n    print(f\"  MPEC: {discovery['fullname']}\")\n    print(f\"  Title: {discovery['title']}\")\n    print(f\"  Date: {discovery['pubdate']}\")\n    print(f\"  URL: {discovery['link']}\")\nelse:\n    print(\"  Not found\")\n</pre> def get_mpecs(search_term):     \"\"\"     Get MPECs for a single search term.          Parameters     ----------     search_term : str         Object designation, MPEC name, or wildcard pattern          Returns     -------     list         List of MPEC dictionaries     \"\"\"     response = requests.get(         \"https://data.minorplanetcenter.net/api/mpecs\",         json=[search_term]     )          if not response.ok:         return []          return response.json().get(search_term, [])   def get_discovery_mpec(designation):     \"\"\"     Get the discovery MPEC for an object.          The discovery MPEC is typically the oldest MPEC for an object.          Parameters     ----------     designation : str         Object designation          Returns     -------     dict or None         Discovery MPEC info, or None if not found     \"\"\"     mpecs = get_mpecs(designation)     if not mpecs:         return None          # Sort by publication date to find the earliest     sorted_mpecs = sorted(mpecs, key=lambda x: x.get('pubdate', ''))     return sorted_mpecs[0] if sorted_mpecs else None   def get_mpec_url(designation):     \"\"\"     Get the URL of the discovery MPEC for an object.          Parameters     ----------     designation : str         Object designation          Returns     -------     str or None         URL to the discovery MPEC     \"\"\"     mpec = get_discovery_mpec(designation)     return mpec.get('link') if mpec else None   # Example usage print(\"Discovery MPEC for Bennu:\") discovery = get_discovery_mpec(\"Bennu\") if discovery:     print(f\"  MPEC: {discovery['fullname']}\")     print(f\"  Title: {discovery['title']}\")     print(f\"  Date: {discovery['pubdate']}\")     print(f\"  URL: {discovery['link']}\") else:     print(\"  Not found\") In\u00a0[\u00a0]: Copied! <pre># Search for recent C-type comet MPECs from 2025 \n# NB: This searches titles containing \"Comet C/2025\"\nsearch_str = \"%Comet C/2025%\"\nresponse = requests.get(\n    \"https://data.minorplanetcenter.net/api/mpecs\",\n    json=[search_str]\n)\n\nif response.ok:\n    result = response.json()\n    mpecs = result.get(search_str, [])\n    \n    # Sort by publication date (most recent first)\n    sorted_mpecs = sorted(mpecs, key=lambda x: x.get('pubdate', ''), reverse=True)\n    tmp = len(mpecs) if len(mpecs) &lt; 1000 else \"&gt; 1,000\"\n    print(f\"Found {tmp} MPECs containing {search_str}\")\n    print(\"\\nMost recent 5:\")\n    for mpec in sorted_mpecs[:5]:\n        print(f\"  {mpec['pubdate'][:10]}: {mpec['fullname']} - {mpec['title'][:40]}...\")\nelse:\n    print(f\"Error: {response.status_code}\")\n</pre> # Search for recent C-type comet MPECs from 2025  # NB: This searches titles containing \"Comet C/2025\" search_str = \"%Comet C/2025%\" response = requests.get(     \"https://data.minorplanetcenter.net/api/mpecs\",     json=[search_str] )  if response.ok:     result = response.json()     mpecs = result.get(search_str, [])          # Sort by publication date (most recent first)     sorted_mpecs = sorted(mpecs, key=lambda x: x.get('pubdate', ''), reverse=True)     tmp = len(mpecs) if len(mpecs) &lt; 1000 else \"&gt; 1,000\"     print(f\"Found {tmp} MPECs containing {search_str}\")     print(\"\\nMost recent 5:\")     for mpec in sorted_mpecs[:5]:         print(f\"  {mpec['pubdate'][:10]}: {mpec['fullname']} - {mpec['title'][:40]}...\") else:     print(f\"Error: {response.status_code}\")"},{"location":"tutorials/notebooks/mpc_tutorial_api_mpecs/#mpc-mpecs-api","title":"MPC MPECs API\u00b6","text":""},{"location":"tutorials/notebooks/mpc_tutorial_api_mpecs/#this-tutorial-provides-information-on-how-to-use-the-minor-planet-centers-mpecs-api","title":"This tutorial provides information on how to use the Minor Planet Center's MPECs API.\u00b6","text":"<p>The Minor Planet Center's <code>MPECs</code> (Minor Planet Electronic Circulars) service returns information about MPECs associated with specific objects or search terms.</p> <p>This is useful when you want to:</p> <ul> <li>Find the discovery MPEC for an asteroid or comet</li> <li>Look up all MPECs mentioning a specific object</li> <li>Search for MPECs by title pattern</li> <li>Get links to MPEC documents</li> </ul> <p>The MPECs API is a REST endpoint. You can send GET requests to:</p> <pre><code>https://data.minorplanetcenter.net/api/mpecs</code></pre> <p>In the examples below we use Python code to query the API.</p> <p>Further information and documentation can be found at:</p> <ul> <li>https://minorplanetcenter.net/mpcops/documentation/mpecs-api/</li> <li>https://minorplanetcenter.net/mpec/RecentMPECs.html (Recent MPECs)</li> </ul>"},{"location":"tutorials/notebooks/mpc_tutorial_api_mpecs/#import-packages","title":"Import Packages\u00b6","text":"<p>Here we import the standard Python packages needed to call the API and interpret the returned data.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_mpecs/#api-parameters","title":"API Parameters\u00b6","text":"<p>The MPECs API accepts a JSON array of search terms:</p> Input Description JSON array List of search terms (up to 100 terms, max 1000 results per term)"},{"location":"tutorials/notebooks/mpc_tutorial_api_mpecs/#search-term-types","title":"Search Term Types\u00b6","text":"<p>Search terms can be:</p> <ol> <li>Object designations - Any identifier resolvable by the Designation Identifier API (e.g., \"Ceres\", \"1992 BB\", \"6564\")</li> <li>MPEC names - Packed or unpacked (e.g., \"1993-S13\" or \"J93S13\")</li> <li>Wildcard searches - Using <code>%</code> for pattern matching (e.g., \"2024%\")</li> </ol>"},{"location":"tutorials/notebooks/mpc_tutorial_api_mpecs/#response-fields","title":"Response Fields\u00b6","text":"<p>Each MPEC entry includes:</p> <ul> <li><code>fullname</code>: MPEC identifier (e.g., \"2022-A05\")</li> <li><code>title</code>: MPEC title</li> <li><code>pubdate</code>: UTC publication date</li> <li><code>link</code>: URL to the MPEC document</li> </ul>"},{"location":"tutorials/notebooks/mpc_tutorial_api_mpecs/#query-by-object-name","title":"Query by Object Name\u00b6","text":"<p>Here we search for MPECs associated with asteroid <code>Apophis</code>, one of the most studied potentially hazardous asteroids.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_mpecs/#mpec-details","title":"MPEC Details\u00b6","text":"<p>Let's examine the full details of MPEC entries.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_mpecs/#multiple-search-terms","title":"Multiple Search Terms\u00b6","text":"<p>You can search for multiple objects in a single API call.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_mpecs/#wildcard-searches","title":"Wildcard Searches\u00b6","text":"<p>Use <code>%</code> as a wildcard to search MPEC titles. This is useful for finding all MPECs from a specific year or with certain patterns.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_mpecs/#query-by-mpec-name","title":"Query by MPEC Name\u00b6","text":"<p>You can query for a specific MPEC by its identifier.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_mpecs/#using-packed-designations","title":"Using Packed Designations\u00b6","text":"<p>The API accepts packed designations as well as unpacked ones.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_mpecs/#helper-functions","title":"Helper Functions\u00b6","text":"<p>Here are convenient helper functions for working with the MPECs API.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_mpecs/#finding-recent-mpecs","title":"Finding Recent MPECs\u00b6","text":"<p>Use wildcard searches to find recent MPECs. Note that this approach has limitations since it searches titles, not dates.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_mpecs/#summary","title":"Summary\u00b6","text":"<p>The MPC MPECs API provides access to Minor Planet Electronic Circulars.</p> <p>Key points:</p> <ul> <li>Endpoint: <code>https://data.minorplanetcenter.net/api/mpecs</code></li> <li>Input: JSON array of search terms</li> <li>Search types: Object designations, MPEC names, wildcard patterns (<code>%</code>)</li> <li>Limits: Up to 100 search terms, 1000 results per term</li> <li>Response fields: <code>fullname</code>, <code>title</code>, <code>pubdate</code>, <code>link</code></li> </ul> <p>Use cases:</p> <ul> <li>Find discovery announcements for objects</li> <li>Track MPEC history for an asteroid or comet</li> <li>Search for MPECs by pattern</li> </ul> <p>For questions or feedback, contact the MPC via the Jira Helpdesk.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_neocp_observations/","title":"MPC NEOCP Observations API","text":"In\u00a0[\u00a0]: Copied! <pre>import requests\nimport json\nimport pandas as pd\n</pre> import requests import json import pandas as pd In\u00a0[\u00a0]: Copied! <pre>current_trksub = pd.read_html(\"https://minorplanetcenter.net/iau/NEO/toconfirm_tabular.html\")[0].iloc[0]['Temp Desig']\nprint(f\"A sample trksub currently on the NEOCP is: {current_trksub}\")\n</pre> current_trksub = pd.read_html(\"https://minorplanetcenter.net/iau/NEO/toconfirm_tabular.html\")[0].iloc[0]['Temp Desig'] print(f\"A sample trksub currently on the NEOCP is: {current_trksub}\") In\u00a0[\u00a0]: Copied! <pre>response = requests.get(\n    \"https://data.minorplanetcenter.net/api/get-obs-neocp\",\n    json={\"trksubs\": [current_trksub], \"output_format\": [\"OBS80\"]}\n)\n\nif response.ok:\n    result = response.json()\n    if result and 'OBS80' in result[0]:\n        obs80_string = result[0]['OBS80']\n        print(f\"Observations for {current_trksub}:\")\n        print(obs80_string)\n    else:\n        print(f\"No observations found or object not on NEOCP\")\n        print(f\"Response: {result}\")\nelse:\n    print(f\"Error: {response.status_code}\")\n    print(f\"The tracklet '{current_trksub}' may no longer be on the NEOCP.\")\n</pre> response = requests.get(     \"https://data.minorplanetcenter.net/api/get-obs-neocp\",     json={\"trksubs\": [current_trksub], \"output_format\": [\"OBS80\"]} )  if response.ok:     result = response.json()     if result and 'OBS80' in result[0]:         obs80_string = result[0]['OBS80']         print(f\"Observations for {current_trksub}:\")         print(obs80_string)     else:         print(f\"No observations found or object not on NEOCP\")         print(f\"Response: {result}\") else:     print(f\"Error: {response.status_code}\")     print(f\"The tracklet '{current_trksub}' may no longer be on the NEOCP.\") In\u00a0[\u00a0]: Copied! <pre>trksub = \"P21Eetc\"  # Replace with current NEOCP tracklet from https://minorplanetcenter.net/iau/NEO/toconfirm_tabular.html\n\nresponse = requests.get(\n    \"https://data.minorplanetcenter.net/api/get-obs-neocp\",\n    json={\"trksubs\": [current_trksub], \"output_format\": [\"XML\"]}\n)\n\nif response.ok:\n    result = response.json()\n    if result and 'XML' in result[0]:\n        xml_string = result[0]['XML']\n        # Print first 1500 characters\n        print(xml_string[:1500])\n        if len(xml_string) &gt; 1500:\n            print(\"\\n... (truncated)\")\n    else:\n        print(\"No XML data returned\")\nelse:\n    print(f\"Error: {response.status_code}\")\n</pre> trksub = \"P21Eetc\"  # Replace with current NEOCP tracklet from https://minorplanetcenter.net/iau/NEO/toconfirm_tabular.html  response = requests.get(     \"https://data.minorplanetcenter.net/api/get-obs-neocp\",     json={\"trksubs\": [current_trksub], \"output_format\": [\"XML\"]} )  if response.ok:     result = response.json()     if result and 'XML' in result[0]:         xml_string = result[0]['XML']         # Print first 1500 characters         print(xml_string[:1500])         if len(xml_string) &gt; 1500:             print(\"\\n... (truncated)\")     else:         print(\"No XML data returned\") else:     print(f\"Error: {response.status_code}\") In\u00a0[\u00a0]: Copied! <pre>response = requests.get(\n    \"https://data.minorplanetcenter.net/api/get-obs-neocp\",\n    json={\"trksubs\": [current_trksub], \"output_format\": [\"ADES_DF\", \"OBS_DF\"]}\n)\n\nif response.ok:\n    result = response.json()\n    if result and 'ADES_DF' in result[0]:\n        ades_df = pd.DataFrame(result[0]['ADES_DF'])\n        obs_df = pd.DataFrame(result[0]['OBS_DF'])\n        \n        print(f\"ADES DataFrame: {ades_df.shape[0]} observations, {ades_df.shape[1]} columns\")\n        print(f\"Columns: {list(ades_df.columns)}\")\n        print(\"\\nFirst few rows:\")\n        display_cols = ['trksub', 'obstime', 'ra', 'dec', 'mag', 'stn']\n        available = [c for c in display_cols if c in ades_df.columns]\n        print(ades_df[available].head())\n    else:\n        print(\"No DataFrame data returned\")\nelse:\n    print(f\"Error: {response.status_code}\")\n</pre> response = requests.get(     \"https://data.minorplanetcenter.net/api/get-obs-neocp\",     json={\"trksubs\": [current_trksub], \"output_format\": [\"ADES_DF\", \"OBS_DF\"]} )  if response.ok:     result = response.json()     if result and 'ADES_DF' in result[0]:         ades_df = pd.DataFrame(result[0]['ADES_DF'])         obs_df = pd.DataFrame(result[0]['OBS_DF'])                  print(f\"ADES DataFrame: {ades_df.shape[0]} observations, {ades_df.shape[1]} columns\")         print(f\"Columns: {list(ades_df.columns)}\")         print(\"\\nFirst few rows:\")         display_cols = ['trksub', 'obstime', 'ra', 'dec', 'mag', 'stn']         available = [c for c in display_cols if c in ades_df.columns]         print(ades_df[available].head())     else:         print(\"No DataFrame data returned\") else:     print(f\"Error: {response.status_code}\") In\u00a0[\u00a0]: Copied! <pre>for version in [\"2017\", \"2022\"]:\n    response = requests.get(\n        \"https://data.minorplanetcenter.net/api/get-obs-neocp\",\n        json={\n            \"trksubs\": [current_trksub],\n            \"output_format\": [\"ADES_DF\"],\n            \"ades_version\": version\n        }\n    )\n    \n    if response.ok:\n        result = response.json()\n        if result and 'ADES_DF' in result[0]:\n            df = pd.DataFrame(result[0]['ADES_DF'])\n            print(f\"ADES {version}: {df.shape[1]} columns\")\n        else:\n            print(f\"ADES {version}: No data\")\n    else:\n        print(f\"ADES {version}: Error {response.status_code}\")\n</pre> for version in [\"2017\", \"2022\"]:     response = requests.get(         \"https://data.minorplanetcenter.net/api/get-obs-neocp\",         json={             \"trksubs\": [current_trksub],             \"output_format\": [\"ADES_DF\"],             \"ades_version\": version         }     )          if response.ok:         result = response.json()         if result and 'ADES_DF' in result[0]:             df = pd.DataFrame(result[0]['ADES_DF'])             print(f\"ADES {version}: {df.shape[1]} columns\")         else:             print(f\"ADES {version}: No data\")     else:         print(f\"ADES {version}: Error {response.status_code}\") In\u00a0[\u00a0]: Copied! <pre># Query for a non-existent tracklet\nresponse = requests.get(\n    \"https://data.minorplanetcenter.net/api/get-obs-neocp\",\n    json={\"trksubs\": [\"foobar\"], \"output_format\": [\"OBS80\"]}\n)\n\nprint(f\"Status code: {response.status_code}\")\nprint(f\"Response OK: {response.ok}\")\n\nif response.ok:\n    print(f\"Response content: {response.json()}\")\nelse:\n    print(f\"Error: Tracklet not found on NEOCP\")\n</pre> # Query for a non-existent tracklet response = requests.get(     \"https://data.minorplanetcenter.net/api/get-obs-neocp\",     json={\"trksubs\": [\"foobar\"], \"output_format\": [\"OBS80\"]} )  print(f\"Status code: {response.status_code}\") print(f\"Response OK: {response.ok}\")  if response.ok:     print(f\"Response content: {response.json()}\") else:     print(f\"Error: Tracklet not found on NEOCP\") In\u00a0[\u00a0]: Copied! <pre>def get_neocp_observations(trksub, output_format=\"ADES_DF\", ades_version=\"2017\"):\n    \"\"\"\n    Retrieve observations for a NEOCP object.\n    \n    Parameters\n    ----------\n    trksub : str\n        The tracklet identifier on the NEOCP\n    output_format : str\n        One of 'ADES_DF', 'OBS_DF', 'XML', 'OBS80'\n    ades_version : str\n        ADES version: '2017' or '2022'\n    \n    Returns\n    -------\n    pandas.DataFrame, str, or None\n        DataFrame for DF formats, string for XML/OBS80, None if not found\n    \"\"\"\n    response = requests.get(\n        \"https://data.minorplanetcenter.net/api/get-obs-neocp\",\n        json={\n            \"trksubs\": [trksub],\n            \"output_format\": [output_format],\n            \"ades_version\": ades_version\n        }\n    )\n    \n    if not response.ok:\n        return None\n    \n    result = response.json()\n    if not result or output_format not in result[0]:\n        return None\n    \n    data = result[0][output_format]\n    \n    if output_format in [\"ADES_DF\", \"OBS_DF\"]:\n        return pd.DataFrame(data)\n    return data\n\n\n# Example usage\ndf = get_neocp_observations(current_trksub)\nif df is not None:\n    print(f\"Retrieved {len(df)} observations\")\n    print(df.head())\nelse:\n    print(f\"Object '{trksub}' not found on NEOCP\")\n</pre> def get_neocp_observations(trksub, output_format=\"ADES_DF\", ades_version=\"2017\"):     \"\"\"     Retrieve observations for a NEOCP object.          Parameters     ----------     trksub : str         The tracklet identifier on the NEOCP     output_format : str         One of 'ADES_DF', 'OBS_DF', 'XML', 'OBS80'     ades_version : str         ADES version: '2017' or '2022'          Returns     -------     pandas.DataFrame, str, or None         DataFrame for DF formats, string for XML/OBS80, None if not found     \"\"\"     response = requests.get(         \"https://data.minorplanetcenter.net/api/get-obs-neocp\",         json={             \"trksubs\": [trksub],             \"output_format\": [output_format],             \"ades_version\": ades_version         }     )          if not response.ok:         return None          result = response.json()     if not result or output_format not in result[0]:         return None          data = result[0][output_format]          if output_format in [\"ADES_DF\", \"OBS_DF\"]:         return pd.DataFrame(data)     return data   # Example usage df = get_neocp_observations(current_trksub) if df is not None:     print(f\"Retrieved {len(df)} observations\")     print(df.head()) else:     print(f\"Object '{trksub}' not found on NEOCP\")"},{"location":"tutorials/notebooks/mpc_tutorial_api_neocp_observations/#mpc-neocp-observations-api","title":"MPC NEOCP Observations API\u00b6","text":""},{"location":"tutorials/notebooks/mpc_tutorial_api_neocp_observations/#this-tutorial-provides-information-on-how-to-use-the-minor-planet-centers-neocp-observations-api","title":"This tutorial provides information on how to use the Minor Planet Center's NEOCP Observations API.\u00b6","text":"<p>The Minor Planet Center's <code>NEOCP Observations</code> service returns observational data for objects currently on the Near-Earth Object Confirmation Page (NEOCP, https://minorplanetcenter.net/iau/NEO/toconfirm_tabular.html).</p> <p>This is useful when you want to:</p> <ul> <li>Retrieve observations for a candidate object on the NEOCP</li> <li>Plan follow-up observations of an unconfirmed NEO candidate</li> <li>Analyze the available astrometry for a NEOCP tracklet</li> </ul> <p>Important: This API only works for objects currently on the NEOCP. Once an object is confirmed and removed from the NEOCP, use the standard Observations API instead.</p> <p>The NEOCP Observations API is a REST endpoint. You can send GET requests to:</p> <pre><code>https://data.minorplanetcenter.net/api/get-obs-neocp</code></pre> <p>In the examples below we use Python code to query the API.</p> <p>Further information and documentation can be found at:</p> <ul> <li>https://minorplanetcenter.net/mpcops/documentation/neocp-observations-api/</li> <li>https://minorplanetcenter.net/iau/NEO/toconfirm_tabular.html (NEOCP listing)</li> </ul>"},{"location":"tutorials/notebooks/mpc_tutorial_api_neocp_observations/#import-packages","title":"Import Packages\u00b6","text":"<p>Here we import the standard Python packages needed to call the API and interpret the returned data.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_neocp_observations/#api-parameters","title":"API Parameters\u00b6","text":"<p>The NEOCP Observations API accepts the following parameters:</p> Parameter Type Required Description Default <code>trksubs</code> List (single string) Yes The tracklet identifier (temporary designation) on the NEOCP None <code>output_format</code> List of strings No One or more of: <code>XML</code>, <code>ADES_DF</code>, <code>OBS_DF</code>, <code>OBS80</code> <code>XML</code> <code>ades_version</code> String No ADES format version: <code>2017</code> or <code>2022</code> <code>2022</code>"},{"location":"tutorials/notebooks/mpc_tutorial_api_neocp_observations/#output-formats","title":"Output Formats\u00b6","text":"<ul> <li>XML: Observations in ADES XML format</li> <li>OBS80: Observations in the classic MPC 80-column format</li> <li>ADES_DF: List of dictionaries with ADES field names (for pandas DataFrames)</li> <li>OBS_DF: List of dictionaries with MPC 80-column field names (for pandas DataFrames)</li> </ul>"},{"location":"tutorials/notebooks/mpc_tutorial_api_neocp_observations/#finding-neocp-tracklet-identifiers","title":"Finding NEOCP Tracklet Identifiers\u00b6","text":"<p>To use this API, you need the tracklet identifier (temporary designation) of an object currently on the NEOCP.</p> <p>You can find current NEOCP objects at:</p> <ul> <li>https://minorplanetcenter.net/iau/NEO/toconfirm_tabular.html</li> </ul> <p>The tracklet identifier is typically a 7-character code like <code>P21Eetc</code> or similar.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_neocp_observations/#basic-query-obs80-format","title":"Basic Query: OBS80 Format\u00b6","text":"<p>Here we query for observations of a NEOCP object in the classic 80-column format.</p> <p>Note: Replace the tracklet ID with a current NEOCP object for this to work.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_neocp_observations/#xml-format-ades-standard","title":"XML Format (ADES Standard)\u00b6","text":"<p>The ADES XML format provides rich metadata about each observation.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_neocp_observations/#working-with-pandas-dataframes","title":"Working with Pandas DataFrames\u00b6","text":"<p>For analysis in Python, the <code>ADES_DF</code> and <code>OBS_DF</code> formats are most convenient.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_neocp_observations/#ades-version-parameter","title":"ADES Version Parameter\u00b6","text":"<p>You can specify which ADES version format to use. Note that the default for this API is <code>2022</code>.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_neocp_observations/#error-handling","title":"Error Handling\u00b6","text":"<p>When querying for a tracklet that is not on the NEOCP (either invalid or already removed), the API will return an empty result.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_neocp_observations/#helper-function","title":"Helper Function\u00b6","text":"<p>Here's a convenient helper function for querying NEOCP observations.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_neocp_observations/#summary","title":"Summary\u00b6","text":"<p>The MPC NEOCP Observations API provides access to observations of objects currently on the Near-Earth Object Confirmation Page.</p> <p>Key points:</p> <ul> <li>Endpoint: <code>https://data.minorplanetcenter.net/api/get-obs-neocp</code></li> <li>Required parameter: <code>trksubs</code> - list with the tracklet identifier</li> <li>Output formats: <code>XML</code>, <code>OBS80</code>, <code>ADES_DF</code>, <code>OBS_DF</code></li> <li>Default ADES version: <code>2022</code></li> <li>Only works for objects currently on the NEOCP</li> </ul> <p>For confirmed objects, use the regular Observations API instead.</p> <p>For questions or feedback, contact the MPC via the Jira Helpdesk.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_obscodes/","title":"MPC Observatory Codes API","text":"In\u00a0[\u00a0]: Copied! <pre>import requests\nimport json\nimport pandas as pd\n</pre> import requests import json import pandas as pd In\u00a0[\u00a0]: Copied! <pre># Query for observatory 500 (Geocentric)\nresponse = requests.get(\n    \"https://data.minorplanetcenter.net/api/obscodes\",\n    json={\"obscode\": \"500\"}\n)\n\nif response.ok:\n    result = response.json()\n    print(json.dumps(result, indent=4))\nelse:\n    print(f\"Error: {response.status_code}\")\n</pre> # Query for observatory 500 (Geocentric) response = requests.get(     \"https://data.minorplanetcenter.net/api/obscodes\",     json={\"obscode\": \"500\"} )  if response.ok:     result = response.json()     print(json.dumps(result, indent=4)) else:     print(f\"Error: {response.status_code}\") In\u00a0[\u00a0]: Copied! <pre># Some notable observatory codes\nobservatories = {\n    \"675\": \"Palomar Mountain\",\n    \"568\": \"Mauna Kea\",\n    \"G96\": \"Mt. Lemmon Survey\",\n    \"F51\": \"Pan-STARRS 1\",\n    \"703\": \"Catalina Sky Survey\",\n    \"C51\": \"WISE\",\n    \"250\": \"Hubble Space Telescope\"\n}\n\nprint(f\"{'Code':&lt;6} {'Name':&lt;40} {'Type':&lt;12}\")\nprint(\"-\" * 60)\n\nfor code, expected_name in observatories.items():\n    response = requests.get(\n        \"https://data.minorplanetcenter.net/api/obscodes\",\n        json={\"obscode\": code}\n    )\n    \n    if response.ok:\n        data = response.json()\n        name = data.get('name', 'Unknown')[:38]\n        obs_type = data.get('observations_type', 'Unknown')\n        print(f\"{code:&lt;6} {name:&lt;40} {obs_type:&lt;12}\")\n    else:\n        print(f\"{code:&lt;6} Error: {response.status_code}\")\n</pre> # Some notable observatory codes observatories = {     \"675\": \"Palomar Mountain\",     \"568\": \"Mauna Kea\",     \"G96\": \"Mt. Lemmon Survey\",     \"F51\": \"Pan-STARRS 1\",     \"703\": \"Catalina Sky Survey\",     \"C51\": \"WISE\",     \"250\": \"Hubble Space Telescope\" }  print(f\"{'Code':&lt;6} {'Name':&lt;40} {'Type':&lt;12}\") print(\"-\" * 60)  for code, expected_name in observatories.items():     response = requests.get(         \"https://data.minorplanetcenter.net/api/obscodes\",         json={\"obscode\": code}     )          if response.ok:         data = response.json()         name = data.get('name', 'Unknown')[:38]         obs_type = data.get('observations_type', 'Unknown')         print(f\"{code:&lt;6} {name:&lt;40} {obs_type:&lt;12}\")     else:         print(f\"{code:&lt;6} Error: {response.status_code}\") In\u00a0[\u00a0]: Copied! <pre># Get all observatories\nresponse = requests.get(\n    \"https://data.minorplanetcenter.net/api/obscodes\",\n    json={}\n)\n\nif response.ok:\n    all_obs = response.json()\n    print(f\"Total observatories: {len(all_obs)}\")\n    \n    # Show first 5 entries\n    print(\"\\nFirst 5 entries:\")\n    for i, (code, data) in enumerate(list(all_obs.items())[:5]):\n        print(f\"  {code}: {data.get('name', 'Unknown')}\")\nelse:\n    print(f\"Error: {response.status_code}\")\n</pre> # Get all observatories response = requests.get(     \"https://data.minorplanetcenter.net/api/obscodes\",     json={} )  if response.ok:     all_obs = response.json()     print(f\"Total observatories: {len(all_obs)}\")          # Show first 5 entries     print(\"\\nFirst 5 entries:\")     for i, (code, data) in enumerate(list(all_obs.items())[:5]):         print(f\"  {code}: {data.get('name', 'Unknown')}\") else:     print(f\"Error: {response.status_code}\") In\u00a0[\u00a0]: Copied! <pre># Get all observatories and convert to DataFrame\nresponse = requests.get(\n    \"https://data.minorplanetcenter.net/api/obscodes\",\n    json={}\n)\n\nif response.ok:\n    all_obs = response.json()\n    \n    # Convert to DataFrame\n    df = pd.DataFrame.from_dict(all_obs, orient='index')\n    # df.index.name = 'obscode'\n    # df = df.reset_index()\n    \n    print(f\"DataFrame shape: {df.shape}\")\n    print(f\"\\nColumns: {list(df.columns)}\")\n    print(\"\\nSample rows &amp; columns ... :\")\n    print(df[['obscode', 'name', 'longitude', 'observations_type']].head(10))\nelse:\n    print(f\"Error: {response.status_code}\")\n</pre> # Get all observatories and convert to DataFrame response = requests.get(     \"https://data.minorplanetcenter.net/api/obscodes\",     json={} )  if response.ok:     all_obs = response.json()          # Convert to DataFrame     df = pd.DataFrame.from_dict(all_obs, orient='index')     # df.index.name = 'obscode'     # df = df.reset_index()          print(f\"DataFrame shape: {df.shape}\")     print(f\"\\nColumns: {list(df.columns)}\")     print(\"\\nSample rows &amp; columns ... :\")     print(df[['obscode', 'name', 'longitude', 'observations_type']].head(10)) else:     print(f\"Error: {response.status_code}\") In\u00a0[\u00a0]: Copied! <pre># Count observatories by type\nresponse = requests.get(\n    \"https://data.minorplanetcenter.net/api/obscodes\",\n    json={}\n)\n\nif response.ok:\n    all_obs = response.json()\n    \n    # Count by type\n    type_counts = {}\n    for code, data in all_obs.items():\n        obs_type = data.get('observations_type', 'unknown')\n        type_counts[obs_type] = type_counts.get(obs_type, 0) + 1\n    \n    print(\"Observatories by type:\")\n    print(\"-\" * 30)\n    for obs_type, count in sorted(type_counts.items(), key=lambda x: -x[1]):\n        print(f\"  {obs_type:&lt;15}: {count:&gt;5}\")\nelse:\n    print(f\"Error: {response.status_code}\")\n</pre> # Count observatories by type response = requests.get(     \"https://data.minorplanetcenter.net/api/obscodes\",     json={} )  if response.ok:     all_obs = response.json()          # Count by type     type_counts = {}     for code, data in all_obs.items():         obs_type = data.get('observations_type', 'unknown')         type_counts[obs_type] = type_counts.get(obs_type, 0) + 1          print(\"Observatories by type:\")     print(\"-\" * 30)     for obs_type, count in sorted(type_counts.items(), key=lambda x: -x[1]):         print(f\"  {obs_type:&lt;15}: {count:&gt;5}\") else:     print(f\"Error: {response.status_code}\") In\u00a0[\u00a0]: Copied! <pre># Find space-based observatories\nresponse = requests.get(\n    \"https://data.minorplanetcenter.net/api/obscodes\",\n    json={}\n)\n\nif response.ok:\n    all_obs = response.json()\n    \n    # Filter for satellite observatories\n    space_obs = [\n        (code, data) for code, data in all_obs.items()\n        if data.get('observations_type') == 'satellite'\n    ]\n    \n    print(f\"Found {len(space_obs)} space-based observatories:\")\n    print(\"-\" * 50)\n    for code, data in sorted(space_obs, key=lambda x: x[0])[:15]:\n        name = data.get('name', 'Unknown')[:40]\n        print(f\"  {code}: {name}\")\n    if len(space_obs) &gt; 15:\n        print(f\"  ... and {len(space_obs) - 15} more\")\nelse:\n    print(f\"Error: {response.status_code}\")\n</pre> # Find space-based observatories response = requests.get(     \"https://data.minorplanetcenter.net/api/obscodes\",     json={} )  if response.ok:     all_obs = response.json()          # Filter for satellite observatories     space_obs = [         (code, data) for code, data in all_obs.items()         if data.get('observations_type') == 'satellite'     ]          print(f\"Found {len(space_obs)} space-based observatories:\")     print(\"-\" * 50)     for code, data in sorted(space_obs, key=lambda x: x[0])[:15]:         name = data.get('name', 'Unknown')[:40]         print(f\"  {code}: {name}\")     if len(space_obs) &gt; 15:         print(f\"  ... and {len(space_obs) - 15} more\") else:     print(f\"Error: {response.status_code}\") In\u00a0[\u00a0]: Copied! <pre>import math\n\n# Get parallax data for some observatories\ncodes = [\"675\", \"568\", \"G96\"]  # Palomar, Mauna Kea, Mt. Lemmon\n\nprint(f\"{'Code':&lt;6} {'Name':&lt;25} {'\u03c1cos(\u03c6\\')':&gt;10} {'\u03c1sin(\u03c6\\')':&gt;10} {'Lat (approx)':&gt;12}\")\nprint(\"-\" * 70)\n\nfor code in codes:\n    response = requests.get(\n        \"https://data.minorplanetcenter.net/api/obscodes\",\n        json={\"obscode\": code}\n    )\n    \n    if response.ok:\n        data = response.json()\n        name = data.get('name', 'Unknown')[:23]\n        rhocos = float(data.get('rhocosphi', 0))\n        rhosin = float(data.get('rhosinphi', 0))\n        \n        # Approximate geocentric latitude\n        if rhocos != 0:\n            lat_rad = math.atan2(rhosin, rhocos)\n            lat_deg = math.degrees(lat_rad)\n        else:\n            lat_deg = 90.0 if rhosin &gt; 0 else -90.0\n        \n        print(f\"{code:&lt;6} {name:&lt;25} {rhocos:&gt;10.6f} {rhosin:&gt;10.6f} {lat_deg:&gt;10.2f}\u00b0\")\n    else:\n        print(f\"{code:&lt;6} Error\")\n</pre> import math  # Get parallax data for some observatories codes = [\"675\", \"568\", \"G96\"]  # Palomar, Mauna Kea, Mt. Lemmon  print(f\"{'Code':&lt;6} {'Name':&lt;25} {'\u03c1cos(\u03c6\\')':&gt;10} {'\u03c1sin(\u03c6\\')':&gt;10} {'Lat (approx)':&gt;12}\") print(\"-\" * 70)  for code in codes:     response = requests.get(         \"https://data.minorplanetcenter.net/api/obscodes\",         json={\"obscode\": code}     )          if response.ok:         data = response.json()         name = data.get('name', 'Unknown')[:23]         rhocos = float(data.get('rhocosphi', 0))         rhosin = float(data.get('rhosinphi', 0))                  # Approximate geocentric latitude         if rhocos != 0:             lat_rad = math.atan2(rhosin, rhocos)             lat_deg = math.degrees(lat_rad)         else:             lat_deg = 90.0 if rhosin &gt; 0 else -90.0                  print(f\"{code:&lt;6} {name:&lt;25} {rhocos:&gt;10.6f} {rhosin:&gt;10.6f} {lat_deg:&gt;10.2f}\u00b0\")     else:         print(f\"{code:&lt;6} Error\") In\u00a0[\u00a0]: Copied! <pre>def get_observatory(obscode):\n    \"\"\"\n    Get information about a specific observatory.\n    \n    Parameters\n    ----------\n    obscode : str\n        Three-character observatory code\n    \n    Returns\n    -------\n    dict or None\n        Observatory data, or None if not found\n    \"\"\"\n    response = requests.get(\n        \"https://data.minorplanetcenter.net/api/obscodes\",\n        json={\"obscode\": obscode}\n    )\n    \n    if response.ok:\n        return response.json()\n    return None\n\n\ndef get_all_observatories():\n    \"\"\"\n    Get information about all observatories as a DataFrame.\n    \n    Returns\n    -------\n    pandas.DataFrame\n        DataFrame with all observatory information\n    \"\"\"\n    response = requests.get(\n        \"https://data.minorplanetcenter.net/api/obscodes\",\n        json={}\n    )\n    \n    if not response.ok:\n        raise Exception(f\"API error: {response.status_code}\")\n    \n    return pd.DataFrame.from_dict(response.json(), orient='index')\n\n\ndef search_observatories(name_pattern):\n    \"\"\"\n    Search for observatories by name (case-insensitive).\n    \n    Parameters\n    ----------\n    name_pattern : str\n        Substring to search for in observatory names\n    \n    Returns\n    -------\n    pandas.DataFrame\n        Matching observatories\n    \"\"\"\n    df = get_all_observatories()\n    mask = df['name'].str.lower().str.contains(name_pattern.lower(), na=False)\n    return df[mask]\n\n\n# Example usages\nprint(f\"{get_observatory('F51')=}\\n\")  # Get a dictionary containing information regarding observatory F51\n\nprint(f\"{get_all_observatories().head(2)=}\\n\")  # Get a dataframe containing all observatory information, then print the first 2\n\nprint(f\"{search_observatories(\"Kea\")=}\")  # Get a dataframe containing information on all observatories with 'Kea' in their names ... \n</pre> def get_observatory(obscode):     \"\"\"     Get information about a specific observatory.          Parameters     ----------     obscode : str         Three-character observatory code          Returns     -------     dict or None         Observatory data, or None if not found     \"\"\"     response = requests.get(         \"https://data.minorplanetcenter.net/api/obscodes\",         json={\"obscode\": obscode}     )          if response.ok:         return response.json()     return None   def get_all_observatories():     \"\"\"     Get information about all observatories as a DataFrame.          Returns     -------     pandas.DataFrame         DataFrame with all observatory information     \"\"\"     response = requests.get(         \"https://data.minorplanetcenter.net/api/obscodes\",         json={}     )          if not response.ok:         raise Exception(f\"API error: {response.status_code}\")          return pd.DataFrame.from_dict(response.json(), orient='index')   def search_observatories(name_pattern):     \"\"\"     Search for observatories by name (case-insensitive).          Parameters     ----------     name_pattern : str         Substring to search for in observatory names          Returns     -------     pandas.DataFrame         Matching observatories     \"\"\"     df = get_all_observatories()     mask = df['name'].str.lower().str.contains(name_pattern.lower(), na=False)     return df[mask]   # Example usages print(f\"{get_observatory('F51')=}\\n\")  # Get a dictionary containing information regarding observatory F51  print(f\"{get_all_observatories().head(2)=}\\n\")  # Get a dataframe containing all observatory information, then print the first 2  print(f\"{search_observatories(\"Kea\")=}\")  # Get a dataframe containing information on all observatories with 'Kea' in their names ..."},{"location":"tutorials/notebooks/mpc_tutorial_api_obscodes/#mpc-observatory-codes-api","title":"MPC Observatory Codes API\u00b6","text":""},{"location":"tutorials/notebooks/mpc_tutorial_api_obscodes/#this-tutorial-provides-information-on-how-to-use-the-minor-planet-centers-observatory-codes-api","title":"This tutorial provides information on how to use the Minor Planet Center's Observatory Codes API.\u00b6","text":"<p>The Minor Planet Center's <code>Observatory Codes</code> service returns information about observatories registered with the MPC.</p> <p>This is useful when you want to:</p> <ul> <li>Look up details about a specific observatory by its code</li> <li>Get the geographic location (longitude, parallax constants) of an observatory</li> <li>Find the full name of an observatory from its code</li> <li>Retrieve a list of all registered observatories</li> </ul> <p>The Observatory Codes API is a REST endpoint. You can send GET requests to:</p> <pre><code>https://data.minorplanetcenter.net/api/obscodes</code></pre> <p>In the examples below we use Python code to query the API.</p> <p>Further information and documentation can be found at:</p> <ul> <li>https://minorplanetcenter.net/mpcops/documentation/obscodes-api/</li> <li>https://minorplanetcenter.net/iau/lists/ObsCodes.html (HTML observatory list)</li> </ul>"},{"location":"tutorials/notebooks/mpc_tutorial_api_obscodes/#import-packages","title":"Import Packages\u00b6","text":"<p>Here we import the standard Python packages needed to call the API and interpret the returned data.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_obscodes/#api-parameters","title":"API Parameters\u00b6","text":"<p>The Observatory Codes API accepts the following parameters:</p> Parameter Type Required Description Default <code>obscode</code> String No Three-character observatory code None (returns all) <code>format</code> String No Output format: <code>JSON</code> or <code>ObsCodes.html</code> <code>JSON</code> <p>If no <code>obscode</code> is provided, the API returns information for all observatories.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_obscodes/#query-single-observatory","title":"Query Single Observatory\u00b6","text":"<p>Here we query for information about a specific observatory. Observatory code <code>500</code> is the geocenter.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_obscodes/#response-fields","title":"Response Fields\u00b6","text":"<p>The JSON response includes these fields:</p> Field Description <code>obscode</code> Three-character observatory code <code>longitude</code> Longitude (east of prime meridian) <code>rhocosphi</code> Parallax constant: \u03c1 cos(\u03c6') <code>rhosinphi</code> Parallax constant: \u03c1 sin(\u03c6') <code>name</code> Observatory name (ASCII) <code>name_utf8</code> Observatory name (Unicode) <code>name_latex</code> Observatory name (LaTeX) <code>short_name</code> Abbreviated name <code>firstdate</code> / <code>lastdate</code> Date range of observations (YYYYMMDD) <code>web_link</code> Observatory website URL <code>observations_type</code> Type: optical, radar, satellite, etc."},{"location":"tutorials/notebooks/mpc_tutorial_api_obscodes/#famous-observatories","title":"Famous Observatories\u00b6","text":"<p>Let's look up some well-known observatories.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_obscodes/#query-all-observatories","title":"Query All Observatories\u00b6","text":"<p>To get a list of all observatories, call the API with an empty JSON object.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_obscodes/#working-with-pandas","title":"Working with Pandas\u00b6","text":"<p>Convert the observatory data to a pandas DataFrame for easier analysis.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_obscodes/#observatory-types","title":"Observatory Types\u00b6","text":"<p>Observatories are classified by their observation type.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_obscodes/#space-based-observatories","title":"Space-Based Observatories\u00b6","text":"<p>Let's find all satellite/space-based observatories.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_obscodes/#understanding-parallax-constants","title":"Understanding Parallax Constants\u00b6","text":"<p>The <code>rhocosphi</code> and <code>rhosinphi</code> values are parallax constants used for astrometric reduction. They encode the observatory's position relative to Earth's center.</p> <ul> <li><code>\u03c1 cos(\u03c6')</code> - horizontal component</li> <li><code>\u03c1 sin(\u03c6')</code> - vertical component</li> </ul> <p>Where <code>\u03c1</code> is the geocentric distance in Earth radii and <code>\u03c6'</code> is the geocentric latitude.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_obscodes/#helper-functions","title":"Helper Functions\u00b6","text":"<p>Here are convenient helper functions for working with observatory data.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_obscodes/#summary","title":"Summary\u00b6","text":"<p>The MPC Observatory Codes API provides access to information about observatories registered with the MPC.</p> <p>Key points:</p> <ul> <li>Endpoint: <code>https://data.minorplanetcenter.net/api/obscodes</code></li> <li>Single observatory: <code>{\"obscode\": \"CODE\"}</code></li> <li>All observatories: <code>{}</code></li> <li>Key fields: <code>obscode</code>, <code>name</code>, <code>longitude</code>, <code>rhocosphi</code>, <code>rhosinphi</code>, <code>observations_type</code></li> <li>Observatory types: optical, satellite, radar, roving, occultation</li> </ul> <p>For questions or feedback, contact the MPC via the Jira Helpdesk.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_observations/","title":"MPC Observations API","text":"In\u00a0[\u00a0]: Copied! <pre>import requests\nimport json\nimport pandas as pd\n</pre> import requests import json import pandas as pd In\u00a0[\u00a0]: Copied! <pre># Query observations for Bennu in OBS80 format\nresponse = requests.get(\n    \"https://data.minorplanetcenter.net/api/get-obs\",\n    json={\"desigs\": [\"Bennu\"], \"output_format\": [\"OBS80\"]}\n)\n\nif response.ok:\n    obs80_string = response.json()[0]['OBS80']\n    # Print just the first few observations\n    lines = obs80_string.strip().split('\\n')\n    print(f\"Total observations: {len(lines)}\")\n    print(\"\\nFirst 5 observations:\")\n    print('\\n'.join(lines[:5]))\nelse:\n    print(f\"Error: {response.status_code} - {response.content}\")\n</pre> # Query observations for Bennu in OBS80 format response = requests.get(     \"https://data.minorplanetcenter.net/api/get-obs\",     json={\"desigs\": [\"Bennu\"], \"output_format\": [\"OBS80\"]} )  if response.ok:     obs80_string = response.json()[0]['OBS80']     # Print just the first few observations     lines = obs80_string.strip().split('\\n')     print(f\"Total observations: {len(lines)}\")     print(\"\\nFirst 5 observations:\")     print('\\n'.join(lines[:5])) else:     print(f\"Error: {response.status_code} - {response.content}\") In\u00a0[\u00a0]: Copied! <pre># Query observations in XML format\nresponse = requests.get(\n    \"https://data.minorplanetcenter.net/api/get-obs\",\n    json={\"desigs\": [\"2023 BU\"], \"output_format\": [\"XML\"]}\n)\n\nif response.ok:\n    xml_string = response.json()[0]['XML']\n    # Print the first 2000 characters to see the structure\n    print(xml_string[:2000])\n    print(\"\\n... (truncated for display)\")\nelse:\n    print(f\"Error: {response.status_code} - {response.content}\")\n</pre> # Query observations in XML format response = requests.get(     \"https://data.minorplanetcenter.net/api/get-obs\",     json={\"desigs\": [\"2023 BU\"], \"output_format\": [\"XML\"]} )  if response.ok:     xml_string = response.json()[0]['XML']     # Print the first 2000 characters to see the structure     print(xml_string[:2000])     print(\"\\n... (truncated for display)\") else:     print(f\"Error: {response.status_code} - {response.content}\") In\u00a0[\u00a0]: Copied! <pre># Query observations in ADES DataFrame format\nresponse = requests.get(\n    \"https://data.minorplanetcenter.net/api/get-obs\",\n    json={\"desigs\": [\"Bennu\"], \"output_format\": [\"ADES_DF\"]}\n)\n\nif response.ok:\n    ades_df = pd.DataFrame(response.json()[0]['ADES_DF'])\n    print(f\"Shape: {ades_df.shape[0]} observations x {ades_df.shape[1]} columns\")\n    print(f\"\\nColumns: {list(ades_df.columns)}\")\n    print(\"\\nFirst 5 rows (selected columns):\")\n    display_cols = ['permID', 'provID', 'obsTime', 'ra', 'dec', 'mag', 'stn']\n    available_cols = [c for c in display_cols if c in ades_df.columns]\n    print(ades_df[available_cols].head())\nelse:\n    print(f\"Error: {response.status_code} - {response.content}\")\n</pre> # Query observations in ADES DataFrame format response = requests.get(     \"https://data.minorplanetcenter.net/api/get-obs\",     json={\"desigs\": [\"Bennu\"], \"output_format\": [\"ADES_DF\"]} )  if response.ok:     ades_df = pd.DataFrame(response.json()[0]['ADES_DF'])     print(f\"Shape: {ades_df.shape[0]} observations x {ades_df.shape[1]} columns\")     print(f\"\\nColumns: {list(ades_df.columns)}\")     print(\"\\nFirst 5 rows (selected columns):\")     display_cols = ['permID', 'provID', 'obsTime', 'ra', 'dec', 'mag', 'stn']     available_cols = [c for c in display_cols if c in ades_df.columns]     print(ades_df[available_cols].head()) else:     print(f\"Error: {response.status_code} - {response.content}\") In\u00a0[\u00a0]: Copied! <pre># Query observations in OBS DataFrame format\nresponse = requests.get(\n    \"https://data.minorplanetcenter.net/api/get-obs\",\n    json={\"desigs\": [\"Bennu\"], \"output_format\": [\"OBS_DF\"]}\n)\n\nif response.ok:\n    obs_df = pd.DataFrame(response.json()[0]['OBS_DF'])\n    print(f\"Shape: {obs_df.shape[0]} observations x {obs_df.shape[1]} columns\")\n    print(f\"\\nColumns: {list(obs_df.columns)}\")\n    print(\"\\nFirst 5 rows:\")\n    print(obs_df.head())\nelse:\n    print(f\"Error: {response.status_code} - {response.content}\")\n</pre> # Query observations in OBS DataFrame format response = requests.get(     \"https://data.minorplanetcenter.net/api/get-obs\",     json={\"desigs\": [\"Bennu\"], \"output_format\": [\"OBS_DF\"]} )  if response.ok:     obs_df = pd.DataFrame(response.json()[0]['OBS_DF'])     print(f\"Shape: {obs_df.shape[0]} observations x {obs_df.shape[1]} columns\")     print(f\"\\nColumns: {list(obs_df.columns)}\")     print(\"\\nFirst 5 rows:\")     print(obs_df.head()) else:     print(f\"Error: {response.status_code} - {response.content}\") In\u00a0[\u00a0]: Copied! <pre># Request both DataFrame formats in one call\nresponse = requests.get(\n    \"https://data.minorplanetcenter.net/api/get-obs\",\n    json={\"desigs\": [\"Bennu\"], \"output_format\": [\"ADES_DF\", \"OBS_DF\"]}\n)\n\nif response.ok:\n    result = response.json()[0]\n    print(f\"Keys in response: {list(result.keys())}\")\n    \n    ades_df = pd.DataFrame(result['ADES_DF'])\n    obs_df = pd.DataFrame(result['OBS_DF'])\n    \n    print(f\"\\nADES_DF shape: {ades_df.shape}\")\n    print(f\"OBS_DF shape: {obs_df.shape}\")\nelse:\n    print(f\"Error: {response.status_code} - {response.content}\")\n</pre> # Request both DataFrame formats in one call response = requests.get(     \"https://data.minorplanetcenter.net/api/get-obs\",     json={\"desigs\": [\"Bennu\"], \"output_format\": [\"ADES_DF\", \"OBS_DF\"]} )  if response.ok:     result = response.json()[0]     print(f\"Keys in response: {list(result.keys())}\")          ades_df = pd.DataFrame(result['ADES_DF'])     obs_df = pd.DataFrame(result['OBS_DF'])          print(f\"\\nADES_DF shape: {ades_df.shape}\")     print(f\"OBS_DF shape: {obs_df.shape}\") else:     print(f\"Error: {response.status_code} - {response.content}\") In\u00a0[\u00a0]: Copied! <pre># Query observations for multiple objects\nresponse = requests.get(\n    \"https://data.minorplanetcenter.net/api/get-obs\",\n    json={\n        \"desigs\": [\"Ceres\", \"Pallas\", \"Vesta\"],\n        \"output_format\": [\"ADES_DF\"]\n    }\n)\n\nif response.ok:\n    results = response.json()\n    print(f\"Number of objects returned: {len(results)}\")\n    \n    for i, result in enumerate(results):\n        df = pd.DataFrame(result['ADES_DF'])\n        # Get the object identifier from the first row\n        obj_id = df['permID'].iloc[0] if 'permID' in df.columns else f\"Object {i+1}\"\n        print(f\"\\n{obj_id}: {len(df)} observations\")\nelse:\n    print(f\"Error: {response.status_code} - {response.content}\")\n</pre> # Query observations for multiple objects response = requests.get(     \"https://data.minorplanetcenter.net/api/get-obs\",     json={         \"desigs\": [\"Ceres\", \"Pallas\", \"Vesta\"],         \"output_format\": [\"ADES_DF\"]     } )  if response.ok:     results = response.json()     print(f\"Number of objects returned: {len(results)}\")          for i, result in enumerate(results):         df = pd.DataFrame(result['ADES_DF'])         # Get the object identifier from the first row         obj_id = df['permID'].iloc[0] if 'permID' in df.columns else f\"Object {i+1}\"         print(f\"\\n{obj_id}: {len(df)} observations\") else:     print(f\"Error: {response.status_code} - {response.content}\") In\u00a0[\u00a0]: Copied! <pre># Query the same object using different designation types\ndesignations = [\"Bennu\", \"101955\", \"1999 RQ36\"]\n\nfor desig in designations:\n    response = requests.get(\n        \"https://data.minorplanetcenter.net/api/get-obs\",\n        json={\"desigs\": [desig], \"output_format\": [\"ADES_DF\"]}\n    )\n    \n    if response.ok:\n        df = pd.DataFrame(response.json()[0]['ADES_DF'])\n        print(f\"Queried '{desig}': {len(df)} observations returned\")\n    else:\n        print(f\"Queried '{desig}': Error {response.status_code}\")\n</pre> # Query the same object using different designation types designations = [\"Bennu\", \"101955\", \"1999 RQ36\"]  for desig in designations:     response = requests.get(         \"https://data.minorplanetcenter.net/api/get-obs\",         json={\"desigs\": [desig], \"output_format\": [\"ADES_DF\"]}     )          if response.ok:         df = pd.DataFrame(response.json()[0]['ADES_DF'])         print(f\"Queried '{desig}': {len(df)} observations returned\")     else:         print(f\"Queried '{desig}': Error {response.status_code}\") In\u00a0[\u00a0]: Copied! <pre># Compare ADES 2017 vs 2022 formats\nfor version in [\"2017\", \"2022\"]:\n    response = requests.get(\n        \"https://data.minorplanetcenter.net/api/get-obs\",\n        json={\n            \"desigs\": [\"2023 BU\"],\n            \"output_format\": [\"ADES_DF\"],\n            \"ades_version\": version\n        }\n    )\n    \n    if response.ok:\n        df = pd.DataFrame(response.json()[0]['ADES_DF'])\n        print(f\"ADES {version}: {df.shape[1]} columns\")\n        print(f\"  Columns: {list(df.columns)}\\n\")\n    else:\n        print(f\"ADES {version}: Error {response.status_code}\")\n</pre> # Compare ADES 2017 vs 2022 formats for version in [\"2017\", \"2022\"]:     response = requests.get(         \"https://data.minorplanetcenter.net/api/get-obs\",         json={             \"desigs\": [\"2023 BU\"],             \"output_format\": [\"ADES_DF\"],             \"ades_version\": version         }     )          if response.ok:         df = pd.DataFrame(response.json()[0]['ADES_DF'])         print(f\"ADES {version}: {df.shape[1]} columns\")         print(f\"  Columns: {list(df.columns)}\\n\")     else:         print(f\"ADES {version}: Error {response.status_code}\") In\u00a0[\u00a0]: Copied! <pre># Get observations of near-Earth asteroid Apophis\nresponse = requests.get(\n    \"https://data.minorplanetcenter.net/api/get-obs\",\n    json={\"desigs\": [\"Apophis\"], \"output_format\": [\"ADES_DF\"]}\n)\n\nif response.ok:\n    df = pd.DataFrame(response.json()[0]['ADES_DF'])\n    \n    # Convert observation time to datetime\n    df['obstime'] = pd.to_datetime(df['obstime'],format='mixed')\n    df['year'] = df['obstime'].dt.year\n    \n    print(f\"Apophis Observation Summary\")\n    print(f\"=\"*40)\n    print(f\"Total observations: {len(df)}\")\n    print(f\"Date range: {df['obstime'].min().date()} to {df['obstime'].max().date()}\")\n    print(f\"\\nObservations by year:\")\n    print(df['year'].value_counts().sort_index())\n    \n    print(f\"\\nTop 10 observatories (by observation count):\")\n    print(df['stn'].value_counts().head(10))\nelse:\n    print(f\"Error: {response.status_code} - {response.content}\")\n</pre> # Get observations of near-Earth asteroid Apophis response = requests.get(     \"https://data.minorplanetcenter.net/api/get-obs\",     json={\"desigs\": [\"Apophis\"], \"output_format\": [\"ADES_DF\"]} )  if response.ok:     df = pd.DataFrame(response.json()[0]['ADES_DF'])          # Convert observation time to datetime     df['obstime'] = pd.to_datetime(df['obstime'],format='mixed')     df['year'] = df['obstime'].dt.year          print(f\"Apophis Observation Summary\")     print(f\"=\"*40)     print(f\"Total observations: {len(df)}\")     print(f\"Date range: {df['obstime'].min().date()} to {df['obstime'].max().date()}\")     print(f\"\\nObservations by year:\")     print(df['year'].value_counts().sort_index())          print(f\"\\nTop 10 observatories (by observation count):\")     print(df['stn'].value_counts().head(10)) else:     print(f\"Error: {response.status_code} - {response.content}\") In\u00a0[\u00a0]: Copied! <pre># Query for a non-existent object\nresponse = requests.get(\n    \"https://data.minorplanetcenter.net/api/get-obs\",\n    json={\"desigs\": [\"NotARealAsteroid12345\"], \"output_format\": [\"ADES_DF\"]}\n)\n\nprint(f\"Status code: {response.status_code}\")\nprint(f\"Response OK: {response.ok}\")\n\nif response.ok:\n    result = response.json()\n    print(f\"Response content: {result}\")\nelse:\n    print(f\"Error content: {response.content}\")\n</pre> # Query for a non-existent object response = requests.get(     \"https://data.minorplanetcenter.net/api/get-obs\",     json={\"desigs\": [\"NotARealAsteroid12345\"], \"output_format\": [\"ADES_DF\"]} )  print(f\"Status code: {response.status_code}\") print(f\"Response OK: {response.ok}\")  if response.ok:     result = response.json()     print(f\"Response content: {result}\") else:     print(f\"Error content: {response.content}\")"},{"location":"tutorials/notebooks/mpc_tutorial_api_observations/#mpc-observations-api","title":"MPC Observations API\u00b6","text":""},{"location":"tutorials/notebooks/mpc_tutorial_api_observations/#this-tutorial-provides-information-on-how-to-use-the-minor-planet-centers-observations-api","title":"This tutorial provides information on how to use the Minor Planet Center's Observations API.\u00b6","text":"<p>The Minor Planet Center's <code>Observations</code> service returns the observational data for specified solar system objects.</p> <p>This can be useful if you want to:</p> <ul> <li>Retrieve all observations of an asteroid or comet</li> <li>Analyze the observational history of an object</li> <li>Perform your own orbit calculations using raw observation data</li> <li>Compare observations from different observatories or time periods</li> </ul> <p>The Observations API is a REST endpoint. You can use your language of choice to send GET requests to:</p> <pre><code>https://data.minorplanetcenter.net/api/get-obs</code></pre> <p>In the examples below we use Python code to query the API.</p> <p>Further information and documentation concerning the <code>Observations</code> API can be found at:</p> <ul> <li>https://minorplanetcenter.net/mpcops/documentation/observations-api/</li> <li>https://data.minorplanetcenter.net/explorer/?tab=Documentation</li> </ul>"},{"location":"tutorials/notebooks/mpc_tutorial_api_observations/#import-packages","title":"Import Packages\u00b6","text":"<p>Here we import the standard Python packages needed to call the API and interpret the returned data.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_observations/#api-parameters","title":"API Parameters\u00b6","text":"<p>The Observations API accepts the following parameters:</p> Parameter Type Required Description Default <code>desigs</code> List of strings Yes Name, permanent number, or provisional designation(s) of the object(s) None <code>output_format</code> List of strings No One or more of: <code>XML</code>, <code>ADES_DF</code>, <code>OBS_DF</code>, <code>OBS80</code> <code>XML</code> <code>ades_version</code> String No ADES format version: <code>2017</code> or <code>2022</code> <code>2022</code>"},{"location":"tutorials/notebooks/mpc_tutorial_api_observations/#output-formats-explained","title":"Output Formats Explained\u00b6","text":"<ul> <li>XML: Observations in ADES XML format (standard for data exchange)</li> <li>OBS80: Observations in the classic MPC 80-column format</li> <li>ADES_DF: List of dictionaries with ADES field names (ideal for pandas DataFrames)</li> <li>OBS_DF: List of dictionaries with MPC 80-column field names (ideal for pandas DataFrames)</li> </ul>"},{"location":"tutorials/notebooks/mpc_tutorial_api_observations/#basic-query-single-object","title":"Basic Query: Single Object\u00b6","text":"<p>Here we query for observations of asteroid <code>(101955) Bennu</code>, the target of the OSIRIS-REx mission.</p> <p>We request the <code>OBS80</code> format, which returns observations in the classic 80-column format.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_observations/#xml-format-ades-standard","title":"XML Format (ADES Standard)\u00b6","text":"<p>The ADES (Astrometry Data Exchange Standard) XML format is the modern standard for exchanging astrometric observations. It contains rich metadata about each observation.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_observations/#working-with-pandas-dataframes","title":"Working with Pandas DataFrames\u00b6","text":"<p>For data analysis in Python, the <code>ADES_DF</code> and <code>OBS_DF</code> formats are most convenient. These return lists of dictionaries that can be directly converted to pandas DataFrames.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_observations/#ades-dataframe-format","title":"ADES DataFrame Format\u00b6","text":"<p>The ADES format uses standardized field names and includes additional metadata fields.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_observations/#obs-dataframe-format","title":"OBS DataFrame Format\u00b6","text":"<p>The OBS_DF format uses field names corresponding to the classic MPC 80-column format.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_observations/#requesting-multiple-formats","title":"Requesting Multiple Formats\u00b6","text":"<p>You can request multiple output formats in a single API call. This is efficient when you need data in different formats for different purposes.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_observations/#multi-object-query","title":"Multi-Object Query\u00b6","text":"<p>At the time this tutorial is created, the API is restricted to providing information on only a single designation.</p> <p>Attempts to query multiple designations in a single call will result in an error message.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_observations/#different-designation-types","title":"Different Designation Types\u00b6","text":"<p>The API accepts various types of object designations:</p> <ul> <li>Names: <code>Bennu</code>, <code>Ceres</code>, <code>Apophis</code></li> <li>Permanent numbers: <code>101955</code>, <code>1</code>, <code>99942</code></li> <li>Provisional designations: <code>2023 BU</code>, <code>1999 RQ36</code></li> </ul> <p>All of these will work for the same object.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_observations/#ades-version-parameter","title":"ADES Version Parameter\u00b6","text":"<p>The ADES standard has two versions: 2017 and 2022. The 2022 version is the default and includes additional fields. You can specify which version you want using the <code>ades_version</code> parameter.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_observations/#example-analysis-observation-history","title":"Example Analysis: Observation History\u00b6","text":"<p>Let's analyze the observational history of an asteroid. We'll look at when observations were made and by which observatories.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_observations/#error-handling","title":"Error Handling\u00b6","text":"<p>The API returns standard HTTP status codes. Here we demonstrate how to handle common error cases.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_observations/#summary","title":"Summary\u00b6","text":"<p>The MPC Observations API provides access to the complete observational record of solar system objects. Key points:</p> <ul> <li>Endpoint: <code>https://data.minorplanetcenter.net/api/get-obs</code></li> <li>Required parameter: <code>desigs</code> - list of object designations</li> <li>Output formats: <code>XML</code>, <code>OBS80</code>, <code>ADES_DF</code>, <code>OBS_DF</code></li> <li>Recommended for analysis: Use <code>ADES_DF</code> or <code>OBS_DF</code> with pandas</li> </ul> <p>For questions or feedback, contact the MPC via the Jira Helpdesk.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_orbits/","title":"MPC Orbits API","text":"In\u00a0[\u00a0]: Copied! <pre>import requests\nimport json\n</pre> import requests import json In\u00a0[\u00a0]: Copied! <pre># Query orbit for Ceres by name\nresponse = requests.get(\n    \"https://data.minorplanetcenter.net/api/get-orb\",\n    json={\"desig\": \"Ceres\"}\n)\n\nif response.ok:\n    result = response.json()\n    mpc_orb = result[0]['mpc_orb'][0]\n    print(json.dumps(mpc_orb, indent=4))\nelse:\n    print(f\"Error: {response.status_code}\")\n    print(response.content)\n</pre> # Query orbit for Ceres by name response = requests.get(     \"https://data.minorplanetcenter.net/api/get-orb\",     json={\"desig\": \"Ceres\"} )  if response.ok:     result = response.json()     mpc_orb = result[0]['mpc_orb'][0]     print(json.dumps(mpc_orb, indent=4)) else:     print(f\"Error: {response.status_code}\")     print(response.content) In\u00a0[\u00a0]: Copied! <pre># Query orbit by permanent number\nresponse = requests.get(\n    \"https://data.minorplanetcenter.net/api/get-orb\",\n    json={\"desig\": \"433\"}  # 433 Eros\n)\n\nif response.ok:\n    mpc_orb_dict = response.json()[0]['mpc_orb'][0]\n    cartesian_coefficient_names = mpc_orb_dict['CAR']['coefficient_names']\n    cartesian_coefficient_values = mpc_orb_dict['CAR']['coefficient_values']\n    print(f\"{cartesian_coefficient_names=}\\n{cartesian_coefficient_values=}\")\nelse:\n    print(f\"Error: {response.status_code}\")\n</pre> # Query orbit by permanent number response = requests.get(     \"https://data.minorplanetcenter.net/api/get-orb\",     json={\"desig\": \"433\"}  # 433 Eros )  if response.ok:     mpc_orb_dict = response.json()[0]['mpc_orb'][0]     cartesian_coefficient_names = mpc_orb_dict['CAR']['coefficient_names']     cartesian_coefficient_values = mpc_orb_dict['CAR']['coefficient_values']     print(f\"{cartesian_coefficient_names=}\\n{cartesian_coefficient_values=}\") else:     print(f\"Error: {response.status_code}\") In\u00a0[\u00a0]: Copied! <pre># Query by unpacked provisional designation\nresponse = requests.get(\n    \"https://data.minorplanetcenter.net/api/get-orb\",\n    json={\"desig\": \"2023 BU\"}  # Famous close-approach asteroid\n)\n\nif response.ok:\n    mpc_orb = response.json()[0]['mpc_orb'][0]\n    desig_data = mpc_orb.get('designation_data', {})\n    print(f\"Primary designation: {desig_data.get('unpacked_primary_provisional_designation')}\")\n    print(f\"Packed designation: {desig_data.get('packed_primary_provisional_designation')}\")\nelse:\n    print(f\"Error: {response.status_code}\")\n</pre> # Query by unpacked provisional designation response = requests.get(     \"https://data.minorplanetcenter.net/api/get-orb\",     json={\"desig\": \"2023 BU\"}  # Famous close-approach asteroid )  if response.ok:     mpc_orb = response.json()[0]['mpc_orb'][0]     desig_data = mpc_orb.get('designation_data', {})     print(f\"Primary designation: {desig_data.get('unpacked_primary_provisional_designation')}\")     print(f\"Packed designation: {desig_data.get('packed_primary_provisional_designation')}\") else:     print(f\"Error: {response.status_code}\") In\u00a0[\u00a0]: Copied! <pre># Get orbit for Bennu (OSIRIS-REx target)\nresponse = requests.get(\n    \"https://data.minorplanetcenter.net/api/get-orb\",\n    json={\"desig\": \"Bennu\"}\n)\n\nif response.ok:\n    # Extract a dictionary containing all orbit information &amp; print all dictionary keys:\n    mpc_orb = response.json()[0]['mpc_orb'][0]\n    print(\"Orbit data keys:\")\n    for key in mpc_orb: print(f\"\\t{key}\")\n    \n    # Extract \"cometarian\" orbital data into another dictionary\n    cometarian_data = mpc_orb['COM']\n    print(\"Cometarian data keys:\")\n    for key in cometarian_data: print(f\"\\t{key}\")\n    \n    # Print the \"cometarian\" orbital quantities and associated uncertainties \n    print(\"Cometarian element data:\")\n    for (name, value, unc) in zip(cometarian_data[\"coefficient_names\"],cometarian_data[\"coefficient_values\"],cometarian_data[\"coefficient_uncertainties\"]):\n        print(f\"{name, value, unc=}\")\nelse:\n    print(f\"Error: {response.status_code}\")\n</pre> # Get orbit for Bennu (OSIRIS-REx target) response = requests.get(     \"https://data.minorplanetcenter.net/api/get-orb\",     json={\"desig\": \"Bennu\"} )  if response.ok:     # Extract a dictionary containing all orbit information &amp; print all dictionary keys:     mpc_orb = response.json()[0]['mpc_orb'][0]     print(\"Orbit data keys:\")     for key in mpc_orb: print(f\"\\t{key}\")          # Extract \"cometarian\" orbital data into another dictionary     cometarian_data = mpc_orb['COM']     print(\"Cometarian data keys:\")     for key in cometarian_data: print(f\"\\t{key}\")          # Print the \"cometarian\" orbital quantities and associated uncertainties      print(\"Cometarian element data:\")     for (name, value, unc) in zip(cometarian_data[\"coefficient_names\"],cometarian_data[\"coefficient_values\"],cometarian_data[\"coefficient_uncertainties\"]):         print(f\"{name, value, unc=}\") else:     print(f\"Error: {response.status_code}\") In\u00a0[\u00a0]: Copied! <pre>response = requests.get(\n    \"https://data.minorplanetcenter.net/api/get-orb\",\n    json={\"desig\": \"Apophis\"}\n)\n\nif response.ok:\n    mpc_orb = response.json()[0]['mpc_orb'][0]\n    \n    print(\"Top-level keys in mpc_orb:\")\n    for key in mpc_orb.keys():\n        value = mpc_orb[key]\n        if isinstance(value, dict):\n            print(f\"  {key}: dict with {len(value)} keys\")\n        elif isinstance(value, list):\n            print(f\"  {key}: list with {len(value)} items\")\n        else:\n            print(f\"  {key}: {type(value).__name__}\")\nelse:\n    print(f\"Error: {response.status_code}\")\n</pre> response = requests.get(     \"https://data.minorplanetcenter.net/api/get-orb\",     json={\"desig\": \"Apophis\"} )  if response.ok:     mpc_orb = response.json()[0]['mpc_orb'][0]          print(\"Top-level keys in mpc_orb:\")     for key in mpc_orb.keys():         value = mpc_orb[key]         if isinstance(value, dict):             print(f\"  {key}: dict with {len(value)} keys\")         elif isinstance(value, list):             print(f\"  {key}: list with {len(value)} items\")         else:             print(f\"  {key}: {type(value).__name__}\") else:     print(f\"Error: {response.status_code}\") In\u00a0[\u00a0]: Copied! <pre>response = requests.get(\n    \"https://data.minorplanetcenter.net/api/get-orb\",\n    json={\"desig\": \"Apophis\"}\n)\n\nif response.ok:\n    mpc_orb = response.json()[0]['mpc_orb'][0]\n    desig_data = mpc_orb.get('designation_data', {})\n    \n    print(\"Designation Data for Apophis:\")\n    print(json.dumps(desig_data, indent=2))\nelse:\n    print(f\"Error: {response.status_code}\")\n</pre> response = requests.get(     \"https://data.minorplanetcenter.net/api/get-orb\",     json={\"desig\": \"Apophis\"} )  if response.ok:     mpc_orb = response.json()[0]['mpc_orb'][0]     desig_data = mpc_orb.get('designation_data', {})          print(\"Designation Data for Apophis:\")     print(json.dumps(desig_data, indent=2)) else:     print(f\"Error: {response.status_code}\") In\u00a0[\u00a0]: Copied! <pre># Compare H magnitudes of different asteroids\nasteroids = [\"Ceres\", \"Vesta\", \"Bennu\", \"Apophis\"]\n\nprint(\"Absolute Magnitudes (H):\")\nprint(\"-\" * 30)\n\nfor asteroid in asteroids:\n    response = requests.get(\n        \"https://data.minorplanetcenter.net/api/get-orb\",\n        json={\"desig\": asteroid}\n    )\n    \n    if response.ok:\n        mpc_orb = response.json()[0]['mpc_orb'][0]\n        # H magnitude location may vary in the structure\n        h_mag = mpc_orb.get('magnitude_data', {}).get('H')\n        if h_mag is None:\n            # Try alternative location\n            h_mag = mpc_orb.get('H')\n        print(f\"{asteroid:10s}: H = {h_mag}\")\n    else:\n        print(f\"{asteroid:10s}: Error {response.status_code}\")\n</pre> # Compare H magnitudes of different asteroids asteroids = [\"Ceres\", \"Vesta\", \"Bennu\", \"Apophis\"]  print(\"Absolute Magnitudes (H):\") print(\"-\" * 30)  for asteroid in asteroids:     response = requests.get(         \"https://data.minorplanetcenter.net/api/get-orb\",         json={\"desig\": asteroid}     )          if response.ok:         mpc_orb = response.json()[0]['mpc_orb'][0]         # H magnitude location may vary in the structure         h_mag = mpc_orb.get('magnitude_data', {}).get('H')         if h_mag is None:             # Try alternative location             h_mag = mpc_orb.get('H')         print(f\"{asteroid:10s}: H = {h_mag}\")     else:         print(f\"{asteroid:10s}: Error {response.status_code}\") In\u00a0[\u00a0]: Copied! <pre># Query for an existing object &amp; a non-existent object:\nfor desig in [\"Ceres\", \"NotAnAsteroidName\"]:\n\n    # Make the query\n    response = requests.get( \"https://data.minorplanetcenter.net/api/get-orb\", json={\"desig\": desig})\n    print(f\"Queried {desig=}, {response.status_code=}, {response.ok=}\")\n\n    # Extract the mpc-orb component from the response\n    mpc_orb_list = response.json()[0]['mpc_orb']\n\n    # Use the extracted list to check for content/existence \n    print( \"\\tOrbit data found\\n\" if response.json()[0]['mpc_orb'] else \"\\tNo data found\\n\")\n</pre> # Query for an existing object &amp; a non-existent object: for desig in [\"Ceres\", \"NotAnAsteroidName\"]:      # Make the query     response = requests.get( \"https://data.minorplanetcenter.net/api/get-orb\", json={\"desig\": desig})     print(f\"Queried {desig=}, {response.status_code=}, {response.ok=}\")      # Extract the mpc-orb component from the response     mpc_orb_list = response.json()[0]['mpc_orb']      # Use the extracted list to check for content/existence      print( \"\\tOrbit data found\\n\" if response.json()[0]['mpc_orb'] else \"\\tNo data found\\n\")  In\u00a0[\u00a0]: Copied! <pre>def get_orbit(designation):\n    \"\"\"\n    Retrieve orbital elements for an object from the MPC.\n    \n    Parameters\n    ----------\n    designation : str\n        Object designation (name, number, or provisional designation)\n    \n    Returns\n    -------\n    dict or None\n        The mpc_orb dictionary, or None if not found\n    \"\"\"\n    response = requests.get(\n        \"https://data.minorplanetcenter.net/api/get-orb\",\n        json={\"desig\": designation}\n    )\n    \n    if not response.ok:\n        return None\n    \n    result = response.json()\n    if result and 'mpc_orb' in result[0] and result[0]['mpc_orb']:\n        return result[0]['mpc_orb'][0]\n    return None\n\n\ndef get_orbital_period(designation):\n    \"\"\"\n    Calculate the orbital period in years from semi-major axis.\n    Uses Kepler's third law: P^2 = a^3 (with P in years, a in AU)\n    \"\"\"\n    orbit = get_orbit(designation)\n    if orbit is None:\n        return None\n    \n    # Extract coordinates and use to get the semi-major axis\n    try:\n        coords = { name:value for name,value in zip(orbit[\"COM\"]['coefficient_names'],orbit[\"COM\"]['coefficient_values'])}\n        a = coords['q']/(1-coords['e'])\n        return a ** 1.5  # Kepler's third law\n    except:\n        return None \n\n\n# Example usage: `get_orbit`\norbit = get_orbit(\"Eros\")\nif orbit:\n    print(f\"Successfully retrieved orbit for Eros\")\n    print(f\"Designation data: {orbit['designation_data']['permid']}\")\nelse:\n    print(\"Failed to retrieve orbit\")\n\n# Example usage: `get_orbital_period`\nperiod = get_orbital_period(\"Ceres\")\nprint(f\"{period=}\")\nif period:\n    print(f\"Successfully retrieved period for Ceres: {period=}\")\nelse:\n    print(\"Failed to retrieve period data\")\n</pre> def get_orbit(designation):     \"\"\"     Retrieve orbital elements for an object from the MPC.          Parameters     ----------     designation : str         Object designation (name, number, or provisional designation)          Returns     -------     dict or None         The mpc_orb dictionary, or None if not found     \"\"\"     response = requests.get(         \"https://data.minorplanetcenter.net/api/get-orb\",         json={\"desig\": designation}     )          if not response.ok:         return None          result = response.json()     if result and 'mpc_orb' in result[0] and result[0]['mpc_orb']:         return result[0]['mpc_orb'][0]     return None   def get_orbital_period(designation):     \"\"\"     Calculate the orbital period in years from semi-major axis.     Uses Kepler's third law: P^2 = a^3 (with P in years, a in AU)     \"\"\"     orbit = get_orbit(designation)     if orbit is None:         return None          # Extract coordinates and use to get the semi-major axis     try:         coords = { name:value for name,value in zip(orbit[\"COM\"]['coefficient_names'],orbit[\"COM\"]['coefficient_values'])}         a = coords['q']/(1-coords['e'])         return a ** 1.5  # Kepler's third law     except:         return None    # Example usage: `get_orbit` orbit = get_orbit(\"Eros\") if orbit:     print(f\"Successfully retrieved orbit for Eros\")     print(f\"Designation data: {orbit['designation_data']['permid']}\") else:     print(\"Failed to retrieve orbit\")  # Example usage: `get_orbital_period` period = get_orbital_period(\"Ceres\") print(f\"{period=}\") if period:     print(f\"Successfully retrieved period for Ceres: {period=}\") else:     print(\"Failed to retrieve period data\")"},{"location":"tutorials/notebooks/mpc_tutorial_api_orbits/#mpc-orbits-api","title":"MPC Orbits API\u00b6","text":""},{"location":"tutorials/notebooks/mpc_tutorial_api_orbits/#this-tutorial-provides-information-on-how-to-use-the-minor-planet-centers-orbits-api","title":"This tutorial provides information on how to use the Minor Planet Center's Orbits API.\u00b6","text":"<p>The Minor Planet Center's <code>Orbits</code> service returns orbital elements and related parameters for solar system objects.</p> <p>This is useful when you want to:</p> <ul> <li>Retrieve the best-fit orbital elements for an asteroid or comet</li> <li>Access orbital uncertainties and covariance information</li> <li>Get orbit-derived quantities like absolute magnitude, epoch, and orbital classification</li> <li>Perform ephemeris calculations or orbit propagation</li> </ul> <p>The Orbits API is a REST endpoint. You can send GET requests to:</p> <pre><code>https://data.minorplanetcenter.net/api/get-orb</code></pre> <p>In the examples below we use Python code to query the API.</p> <p>Further information and documentation can be found at:</p> <ul> <li>https://minorplanetcenter.net/mpcops/documentation/orbits-api/</li> <li>https://github.com/Smithsonian/mpc-public/tree/main/mpc_orb (Python package for working with mpc_orb format)</li> </ul>"},{"location":"tutorials/notebooks/mpc_tutorial_api_orbits/#import-packages","title":"Import Packages\u00b6","text":"<p>Here we import the standard Python packages needed to call the API and interpret the returned data.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_orbits/#api-parameters","title":"API Parameters\u00b6","text":"<p>The Orbits API accepts the following parameters:</p> Parameter Type Required Description <code>desig</code> String Yes Name, permanent number, or provisional designation of the object <p>Note: Both packed and unpacked designation formats are supported. Currently limited to single object queries.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_orbits/#response-format","title":"Response Format\u00b6","text":"<p>The API returns data in the <code>mpc_orb</code> JSON format, which contains comprehensive orbital information including:</p> <ul> <li>Keplerian orbital elements (a, e, i, node, argperi, meananomaly)</li> <li>Epoch and coordinate system information</li> <li>Physical parameters (absolute magnitude H, slope G)</li> <li>Orbital uncertainties and covariance matrix</li> <li>Object classification and identifiers</li> </ul>"},{"location":"tutorials/notebooks/mpc_tutorial_api_orbits/#basic-query-by-name","title":"Basic Query: By Name\u00b6","text":"<p>Here we query for the orbital elements of asteroid <code>Ceres</code>, the first discovered asteroid.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_orbits/#query-by-permanent-number","title":"Query by Permanent Number\u00b6","text":"<p>You can also query using the asteroid's permanent number.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_orbits/#query-by-provisional-designation","title":"Query by Provisional Designation\u00b6","text":"<p>Provisional designations work too, in either packed or unpacked format.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_orbits/#extracting-orbital-elements","title":"Extracting Orbital Elements\u00b6","text":"<p>The <code>mpc_orb</code> format contains detailed orbital elements. Here's how to extract the key Keplerian elements.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_orbits/#understanding-the-mpc_orb-structure","title":"Understanding the mpc_orb Structure\u00b6","text":"<p>The <code>mpc_orb</code> format is hierarchically organized. Let's explore its structure.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_orbits/#designation-data","title":"Designation Data\u00b6","text":"<p>The <code>designation_data</code> section contains identifiers and naming information.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_orbits/#physical-parameters","title":"Physical Parameters\u00b6","text":"<p>Absolute magnitude (H) and slope parameter (G) are included when available.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_orbits/#error-handling","title":"Error Handling\u00b6","text":"<p>When querying for an object that doesn't exist, the API does NOT return an error, but returns an empty <code>mpc_orb</code> component as illustrated below.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_orbits/#helper-function","title":"Helper Function\u00b6","text":"<p>Here's a convenient helper function for querying orbits.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_orbits/#using-the-mpc_orb-python-package","title":"Using the mpc_orb Python Package\u00b6","text":"<p>The MPC provides a Python package for working with <code>mpc_orb</code> format files. You can install it with:</p> <pre>pip install mpc-orb\n</pre> <p>This package provides validation and parsing utilities for the mpc_orb JSON format.</p> <p>Further information on using this package can be found at:</p> <ul> <li>https://github.com/Smithsonian/mpc-public/tree/main/mpc_orb</li> <li><code>&lt;insert link to future mpc-orb tutorial&gt;</code></li> </ul>"},{"location":"tutorials/notebooks/mpc_tutorial_api_orbits/#summary","title":"Summary\u00b6","text":"<p>The MPC Orbits API provides access to orbital elements for solar system objects.</p> <p>Key points:</p> <ul> <li>Endpoint: <code>https://data.minorplanetcenter.net/api/get-orb</code></li> <li>Required parameter: <code>desig</code> - object designation (name, number, or provisional)</li> <li>Response format: <code>mpc_orb</code> JSON format with comprehensive orbital data</li> <li>Current limitation: Single object queries only</li> </ul> <p>The <code>mpc_orb</code> format includes:</p> <ul> <li>Orbital elements in multiple coordinate systems</li> <li>Epoch and time system information</li> <li>Designation data (names, numbers, provisional designations)</li> <li>Physical parameters (H, G when available)</li> <li>Uncertainty information</li> </ul> <p>For questions or feedback, contact the MPC via the Jira Helpdesk.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_submission_status/","title":"MPC Submission Status","text":"In\u00a0[1]: Copied! <pre>import requests\nimport json\n</pre> import requests import json In\u00a0[2]: Copied! <pre># Call the api using the `requests` package \nresponse = requests.get(\n    \"https://data.minorplanetcenter.net/api/submission-status\", \n    json= {\"submission_id\": \"2026-01-01T00:05:07.453_0000BhCE\"}\n)\n\n# Print the response, making use of the `json` package\nsedna_json = response.json()\nprint(json.dumps(sedna_json, indent=4))\n</pre> # Call the api using the `requests` package  response = requests.get(     \"https://data.minorplanetcenter.net/api/submission-status\",      json= {\"submission_id\": \"2026-01-01T00:05:07.453_0000BhCE\"} )  # Print the response, making use of the `json` package sedna_json = response.json() print(json.dumps(sedna_json, indent=4))  <pre>{\n    \"accepted\": true,\n    \"pipeline_entry_time\": \"2026-01-01T00:06:00.696565+00:00\",\n    \"fault_events\": []\n}\n</pre> In\u00a0[3]: Copied! <pre># Loop over two examples of accepted submission with warnings that did *not* prevent acceptance\nfor submissionID in [\"2025-11-12T18:44:08.601_0000Ba84\", \"2025-11-13T11:23:47.333_0000BaBf\"]:\n    \n    print('-'*55, f\"\\nQuerying {submissionID=}\")\n    # Call the api using the `requests` package \n    response = requests.get(\n        \"https://data.minorplanetcenter.net/api/submission-status\", \n        json= {\"submission_id\": \"2025-11-12T18:44:08.601_0000Ba84\"}\n    )\n    \n    # Print the response, making use of the `json` package\n    sedna_json = response.json()\n    print(json.dumps(sedna_json, indent=4))\n</pre> # Loop over two examples of accepted submission with warnings that did *not* prevent acceptance for submissionID in [\"2025-11-12T18:44:08.601_0000Ba84\", \"2025-11-13T11:23:47.333_0000BaBf\"]:          print('-'*55, f\"\\nQuerying {submissionID=}\")     # Call the api using the `requests` package      response = requests.get(         \"https://data.minorplanetcenter.net/api/submission-status\",          json= {\"submission_id\": \"2025-11-12T18:44:08.601_0000Ba84\"}     )          # Print the response, making use of the `json` package     sedna_json = response.json()     print(json.dumps(sedna_json, indent=4))  <pre>------------------------------------------------------- \nQuerying submissionID='2025-11-12T18:44:08.601_0000Ba84'\n{\n    \"accepted\": true,\n    \"pipeline_entry_time\": \"2025-11-12T19:13:24.148269+00:00\",\n    \"fault_events\": [\n        {\n            \"message\": \"warning: name `WFST NEO Survey Group of PMO and USTC.` in header CON does not match MPC format\",\n            \"phase\": 2,\n            \"failure_code\": 10\n        },\n        {\n            \"message\": \"warning: postprocessed name `WFST NEO Survey Group of PMO and USTC.` did not match regex `^([A-Z]\\\\.[- ]){0,6}[A-Z]\\\\. [-.'A-Za-z ]+$`\",\n            \"phase\": 2,\n            \"failure_code\": 10\n        }\n    ]\n}\n------------------------------------------------------- \nQuerying submissionID='2025-11-13T11:23:47.333_0000BaBf'\n{\n    \"accepted\": true,\n    \"pipeline_entry_time\": \"2025-11-12T19:13:24.148269+00:00\",\n    \"fault_events\": [\n        {\n            \"message\": \"warning: name `WFST NEO Survey Group of PMO and USTC.` in header CON does not match MPC format\",\n            \"phase\": 2,\n            \"failure_code\": 10\n        },\n        {\n            \"message\": \"warning: postprocessed name `WFST NEO Survey Group of PMO and USTC.` did not match regex `^([A-Z]\\\\.[- ]){0,6}[A-Z]\\\\. [-.'A-Za-z ]+$`\",\n            \"phase\": 2,\n            \"failure_code\": 10\n        }\n    ]\n}\n</pre> In\u00a0[4]: Copied! <pre># Call the api using the `requests` package \nresponse = requests.get(\n    \"https://data.minorplanetcenter.net/api/submission-status\", \n    json= {\"submission_id\": \"2025-11-12T21:11:49.579_0000Ba8V\"}\n)\n\n# Print the response, making use of the `json` package\nsedna_json = response.json()\nprint(json.dumps(sedna_json, indent=4))\n</pre> # Call the api using the `requests` package  response = requests.get(     \"https://data.minorplanetcenter.net/api/submission-status\",      json= {\"submission_id\": \"2025-11-12T21:11:49.579_0000Ba8V\"} )  # Print the response, making use of the `json` package sedna_json = response.json() print(json.dumps(sedna_json, indent=4)) <pre>{\n    \"accepted\": false,\n    \"pipeline_entry_time\": null,\n    \"fault_events\": [\n        {\n            \"message\": \"exact duplicate of submission 2025-11-12T21:09:16.359_0000Ba8U\",\n            \"phase\": 2,\n            \"failure_code\": 5\n        },\n        {\n            \"message\": \"ingest failed\",\n            \"phase\": 2,\n            \"failure_code\": 7\n        }\n    ]\n}\n</pre> In\u00a0[5]: Copied! <pre># Call the api using the `requests` package \nresponse = requests.get(\n    \"https://data.minorplanetcenter.net/api/submission-status\", \n    json= {\"submission_id\": \"2022-02-02T22:22:22.222_0000AaCC\"}\n)\n\n# Print the response status_code\nif response.status_code == 404: \n    print(f\"The response status code was 404, indicating that the submission id was not found\")\n</pre> # Call the api using the `requests` package  response = requests.get(     \"https://data.minorplanetcenter.net/api/submission-status\",      json= {\"submission_id\": \"2022-02-02T22:22:22.222_0000AaCC\"} )  # Print the response status_code if response.status_code == 404:      print(f\"The response status code was 404, indicating that the submission id was not found\") <pre>The response status code was 404, indicating that the submission id was not found\n</pre>"},{"location":"tutorials/notebooks/mpc_tutorial_api_submission_status/#mpc-submission-status","title":"MPC Submission Status\u00b6","text":""},{"location":"tutorials/notebooks/mpc_tutorial_api_submission_status/#this-tutorial-provides-information-on-how-to-use-the-minor-planet-centers-submission-status-api","title":"This tutorial provides information on how to use the Minor Planet Center's Submission Status API.\u00b6","text":"<p>The Minor Planet Center's <code>Submission Status</code> service will return information on the status of an MPC data submission.</p> <p>This can be useful if you previously submitted observations to the MPC, received a <code>Submission-ID</code>, and would now like to understand whether that submission has been ingested into the MPC's system, or whether it has been rejected (and if so, why).</p> <ul> <li>Further information on how to perform the precursor step of submitting observations to the MPC can be found in the following companion tutorial: https://docs.minorplanetcenter.net/tutorials/notebooks/mpc_tutorial_api_submission_submission.html</li> </ul> <p>The Submission status API is a REST endpoint, therefore you can use your language of choice to send GET requests to the following URL:</p> <pre><code>https://data.minorplanetcenter.net/api/submission-status</code></pre> <p>In the examples below we use python code to query the api.</p> <p>Further information and documentation concerning the <code>Submission Status</code> service and its associated api can be found at: https://minorplanetcenter.net/mpcops/documentation/submission-status-api/</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_submission_status/#import-packages","title":"Import Packages\u00b6","text":"<p>Here we import the standard python packages need to call the api &amp; interpret the returned data</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_submission_status/#submission-status-query","title":"Submission Status Query\u00b6","text":"<p>Your request must provide a JSON object payload containing the <code>submission_id</code> of interest.</p> <p>E.g. <code>{\"submission_id\": \"2026-01-01T00:05:07.453_0000BhCE\"}</code></p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_submission_status/#querying-a-successfully-accepted-submission","title":"Querying a successfully accepted submission\u00b6","text":"<p>In the following example we see that the submission was accepted.</p> <p>We see :</p> <ul> <li><code>\"accepted\": true</code>, indicating that the submission was accepted</li> <li><code>\"pipeline_entry_time\": \"2026-01-01T00:06:00.696565+00:00\"</code>, indicating that pipeline orbit processing (e.g. orbit-fitting) started approximately 53 seconds after the time of the initial submission-ID.</li> </ul>"},{"location":"tutorials/notebooks/mpc_tutorial_api_submission_status/#querying-a-successfully-accepted-submission-with-warnings-that-did-not-prevent-acceptance","title":"Querying a successfully accepted submission with warnings (that did not prevent acceptance)\u00b6","text":"<p>In the following two examples we see that the submission was accepted, but there is some warning content in the <code>fault_events</code> field.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_submission_status/#querying-a-failed-submission-with-errors","title":"Querying a failed submission with errors\u00b6","text":"<p>In the following example we see that the submission was not accepted, with the <code>fault_events</code> field providing information on the failure reason(s).</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_submission_status/#querying-a-non-existent-submission","title":"Querying a non-existent submission\u00b6","text":"<p>Here we demonstrate that if you try to query a submission-id that does not exist in the MPC system, the api will return a <code>404</code> error.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_submission_submission/","title":"MPC Submission of Observations","text":"In\u00a0[1]: Copied! <pre>import requests\nimport tempfile\nimport atexit\nimport os\n</pre> import requests import tempfile import atexit import os In\u00a0[2]: Copied! <pre># Define the files that we want fetch &amp; save \nmpc_urls = [\n    \"https://www.minorplanetcenter.net/media/ades/goodsubmit.xml.txt\", \n    \"https://www.minorplanetcenter.net/media/ades/goodsubmit.psv.txt\"]\n\nlocal_filenames = [\"sample.xml\", \"sample.psv\"]\ntemp_filepaths = {} \n\n# Get the data and save it\nfor local_filename, mpc_url in zip(local_filenames, mpc_urls):\n    with tempfile.NamedTemporaryFile(mode='w', suffix=local_filename[-4:], delete=False) as f:  # Open temp file\n        f.write(requests.get(mpc_url).text)  # Write the data to temp file \n        temp_filepaths[local_filename[-3:]] = f.name  # Save the filepath of the temp file \n        print(f\"Saved {mpc_url} to: {temp_filepaths[local_filename[-3:]]}\")\n    \n        # Register a cleanup function that will execute when the notebook exits. \n        atexit.register(lambda: os.unlink(f.name) if os.path.exists(f.name) else None)\n</pre> # Define the files that we want fetch &amp; save  mpc_urls = [     \"https://www.minorplanetcenter.net/media/ades/goodsubmit.xml.txt\",      \"https://www.minorplanetcenter.net/media/ades/goodsubmit.psv.txt\"]  local_filenames = [\"sample.xml\", \"sample.psv\"] temp_filepaths = {}   # Get the data and save it for local_filename, mpc_url in zip(local_filenames, mpc_urls):     with tempfile.NamedTemporaryFile(mode='w', suffix=local_filename[-4:], delete=False) as f:  # Open temp file         f.write(requests.get(mpc_url).text)  # Write the data to temp file          temp_filepaths[local_filename[-3:]] = f.name  # Save the filepath of the temp file          print(f\"Saved {mpc_url} to: {temp_filepaths[local_filename[-3:]]}\")              # Register a cleanup function that will execute when the notebook exits.          atexit.register(lambda: os.unlink(f.name) if os.path.exists(f.name) else None)   <pre>Saved https://www.minorplanetcenter.net/media/ades/goodsubmit.xml.txt to: /var/folders/67/j23cbc8x5r3b_1cy48v0rf4m0000gq/T/tmpzaz6ypzs.xml\nSaved https://www.minorplanetcenter.net/media/ades/goodsubmit.psv.txt to: /var/folders/67/j23cbc8x5r3b_1cy48v0rf4m0000gq/T/tmpjxtap_8a.psv\n</pre> In\u00a0[3]: Copied! <pre># URL of the test end-point to which we will submit \nurl = \"https://minorplanetcenter.net/submit_xml_test\"  \n\n# Meta data to be communicated \ndata = {\n    'ack': 'MPC submission tutorial',  # Acknowledgment message (required):\n    'ac2': 'my@email.adr',  # Address to which subsequent communications/notifications should be sent (required)\n    'obj_type': 'NEO'  # Object Type Flag (optional): This example indicaties the observations are believed to be of a known NEO \n}\n\n# Read the XML file, send to url, collect response\nwith open(temp_filepaths['xml'], 'rb') as f:\n    response = requests.post(url, data=data, files={'source': f.read()})\n\n# Print some of the details of the response\nprint(response.status_code)\nprint(response.text)\n</pre> # URL of the test end-point to which we will submit  url = \"https://minorplanetcenter.net/submit_xml_test\"    # Meta data to be communicated  data = {     'ack': 'MPC submission tutorial',  # Acknowledgment message (required):     'ac2': 'my@email.adr',  # Address to which subsequent communications/notifications should be sent (required)     'obj_type': 'NEO'  # Object Type Flag (optional): This example indicaties the observations are believed to be of a known NEO  }  # Read the XML file, send to url, collect response with open(temp_filepaths['xml'], 'rb') as f:     response = requests.post(url, data=data, files={'source': f.read()})  # Print some of the details of the response print(response.status_code) print(response.text) <pre>200\n[MPC submission tutorial].  Submission ID is 2026-02-09T11:42:17.655_00000FrY\n\n</pre> In\u00a0[4]: Copied! <pre># URL of the test end-point to which we will submit \nurl = \"https://minorplanetcenter.net/submit_psv_test\"  \n\n# Meta data to be communicated \ndata = {\n    'ack': 'MPC submission tutorial',  # Acknowledgment message (required):\n    'ac2': 'my@email.adr',  # Address to which subsequent communications/notifications should be sent (required)\n    'obj_type': 'NEO'  # Object Type Flag (optional): This example indicaties the observations are believed to be of a known NEO \n}\n\n# Read the XML file, send to url, collect response\nwith open(temp_filepaths['psv'], 'rb') as f:\n    response = requests.post(url, data=data, files={'source': f.read()})\n\n# Print some of the details of the response\nprint(response.status_code)\nprint(response.text)\n</pre> # URL of the test end-point to which we will submit  url = \"https://minorplanetcenter.net/submit_psv_test\"    # Meta data to be communicated  data = {     'ack': 'MPC submission tutorial',  # Acknowledgment message (required):     'ac2': 'my@email.adr',  # Address to which subsequent communications/notifications should be sent (required)     'obj_type': 'NEO'  # Object Type Flag (optional): This example indicaties the observations are believed to be of a known NEO  }  # Read the XML file, send to url, collect response with open(temp_filepaths['psv'], 'rb') as f:     response = requests.post(url, data=data, files={'source': f.read()})  # Print some of the details of the response print(response.status_code) print(response.text) <pre>200\n[MPC submission tutorial].  Submission ID is 2026-02-09T11:42:17.976_00000FrZ\n\n</pre> In\u00a0[5]: Copied! <pre># URL of the test end-point to which we will submit \nurl = \"https://minorplanetcenter.net/submit_xml_test\"  \n\n# Meta data to be communicated \n# NB: The required `ack` field is omitted. \ndata = {\n    'ac2': 'my@email.adr',  # Address to which subsequent communications/notifications should be sent (required)\n    'obj_type': 'NEO'  # Object Type Flag (optional): This example indicaties the observations are believed to be of a known NEO \n}\n\n# Read the XML file, send to url, collect response\nwith open(temp_filepaths['xml'], 'rb') as f:\n    response = requests.post(url, data=data, files={'source': f.read()})\n\n# Print some of the details of the response\nprint(response.status_code)\nprint(response.text)\n</pre> # URL of the test end-point to which we will submit  url = \"https://minorplanetcenter.net/submit_xml_test\"    # Meta data to be communicated  # NB: The required `ack` field is omitted.  data = {     'ac2': 'my@email.adr',  # Address to which subsequent communications/notifications should be sent (required)     'obj_type': 'NEO'  # Object Type Flag (optional): This example indicaties the observations are believed to be of a known NEO  }  # Read the XML file, send to url, collect response with open(temp_filepaths['xml'], 'rb') as f:     response = requests.post(url, data=data, files={'source': f.read()})  # Print some of the details of the response print(response.status_code) print(response.text) <pre>400\nerror: no `ack` value provided\n</pre> In\u00a0[6]: Copied! <pre># URL of the test end-point to which we will submit \nurl = \"https://minorplanetcenter.net/submit_psv_test\"  \n\n# Meta data to be communicated \n# NB: The required `ack` field is omitted. \ndata = {\n    'ack': 'MPC submission tutorial',  # Acknowledgment message (required):\n    'ac2': 'my@email.adr',  # Address to which subsequent communications/notifications should be sent (required)\n    'obj_type': 'NEO'  # Object Type Flag (optional): This example indicaties the observations are believed to be of a known NEO \n}\n\n# Read the XML file, send to url, collect response\nbad_psv_content = \"\"\"# version=2017\npermID |trkSub |mode|stn |obsTime                |ra         |dec        |rmsRA|rmsDec|rmsCorr|astCat|mag  |rmsMag|band|photCat|logSNR|notes|remarks\"\"\"\nresponse = requests.post(url, data=data, files={'source': bad_psv_content})\n\n# Print some of the details of the response\nprint(response.status_code)\nprint(response.text)\n</pre> # URL of the test end-point to which we will submit  url = \"https://minorplanetcenter.net/submit_psv_test\"    # Meta data to be communicated  # NB: The required `ack` field is omitted.  data = {     'ack': 'MPC submission tutorial',  # Acknowledgment message (required):     'ac2': 'my@email.adr',  # Address to which subsequent communications/notifications should be sent (required)     'obj_type': 'NEO'  # Object Type Flag (optional): This example indicaties the observations are believed to be of a known NEO  }  # Read the XML file, send to url, collect response bad_psv_content = \"\"\"# version=2017 permID |trkSub |mode|stn |obsTime                |ra         |dec        |rmsRA|rmsDec|rmsCorr|astCat|mag  |rmsMag|band|photCat|logSNR|notes|remarks\"\"\" response = requests.post(url, data=data, files={'source': bad_psv_content})  # Print some of the details of the response print(response.status_code) print(response.text) <pre>200\n[MPC submission tutorial].  Submission ID is 2026-02-09T11:42:18.592_00000Fra\n\n</pre> <p>\"\"\" This cell deliberately set to <code>markdown</code> format (rather than <code>code</code>) to reduce the risk of accidental, repeated submission of fake/test data into the MPC's production system. \"\"\"</p> <p>\"\"\" This cell deliberately set to <code>markdown</code> format (rather than <code>code</code>) to reduce the risk of accidental, repeated submission of fake/test data into the MPC's production system. \"\"\"</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_submission_submission/#mpc-submission-of-observations","title":"MPC Submission of Observations\u00b6","text":""},{"location":"tutorials/notebooks/mpc_tutorial_api_submission_submission/#this-tutorial-provides-information-on-how-to-submit-an-ades-formated-file-of-observations-to-the-minor-planet-center","title":"This tutorial provides information on how to submit an ADES-formated file of observations to the Minor Planet Center.\u00b6","text":"<p>This tutorial assumes you have successfully created and validated an ADES-formated file of observations.</p> <ul> <li>Information on how to undertake the precursor step of constructing an ADES-formated file of observations can be found at:<ul> <li>to be inserted</li> </ul> </li> <li>Information and documentation on the <code>ADES</code> standard can be found at:<ul> <li>https://www.minorplanetcenter.net/mpcops/documentation/ades/</li> <li>https://github.com/IAU-ADES/ADES-Master</li> </ul> </li> </ul> <p>In the examples below we use python) code to demonstrate the submission of observations, but one can use other tools such as cURL to submit observations.</p> <p>Further information and documentation concerning the submission of data to the MPC can be found at:</p> <ul> <li>https://minorplanetcenter.net/iau/info/commandlinesubmissions.html</li> <li>https://www.minorplanetcenter.net/iau/info/TechInfo.html</li> <li>https://www.minorplanetcenter.net/mpcops/documentation/ades/</li> <li>https://minorplanetcenter.net/submit_xml</li> <li>https://minorplanetcenter.net/submit_psv</li> <li>https://minorplanetcenter.net/submit_xml_test</li> <li>https://minorplanetcenter.net/submit_psv_test</li> </ul>"},{"location":"tutorials/notebooks/mpc_tutorial_api_submission_submission/#import-packages","title":"Import Packages\u00b6","text":"<p>Here we import the standard python packages we use in this tutorial</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_submission_submission/#sample-ades-files","title":"Sample ADES Files\u00b6","text":"<p>Here we download sample XML and PSV files from the MPC's website, and save them to local (temporary) files.</p> <p>These files are known to be valid.</p> <p>If you have created your own ADES file(s) for submission to the MPC, then this download of sample files is not necessary.</p> <p>The local, temporary files will be deleted after this notebook exits.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_submission_submission/#test-submission","title":"Test Submission\u00b6","text":"<p>Here we demonstrate the submission of the above sample ADES files to the MPC's test submission URLs.</p> <p>We use the test endpoint as we do not want to spam the MPC's main pipeline with unnecessary submissions.</p> <p>If you wish to test the submission of your own ADES file, please replace the filepath(s) with your own file(s).</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_submission_submission/#xml-test-submission-successful","title":"XML Test Submission: Successful\u00b6","text":"<p>Here we demonstrate sending our sample XML file (saved in <code>temp_filepaths['xml']</code>) to the test-XML end-point, <code>https://minorplanetcenter.net/submit_xml_test</code>.</p> <p>We see that the submission was successful and that a Submission-ID was generated and returned.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_submission_submission/#psv-test-submission-successful","title":"PSV Test Submission: Successful\u00b6","text":"<p>Here we demonstrate sending our sample PSV file (saved in <code>temp_filepaths['psv']</code>) to the test-PSV end-point, <code>https://minorplanetcenter.net/submit_psv_test</code>.</p> <p>We see that the submission was successful and that a Submission-ID was generated and returned</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_submission_submission/#xml-test-submission-unsuccessful","title":"XML Test Submission: Unsuccessful\u00b6","text":"<p>Here we demonstrate sending our sample XML file (saved in <code>temp_filepaths['xml']</code>) to the test-XML end-point, <code>https://minorplanetcenter.net/submit_xml_test</code>.</p> <p>Here we deliberately omit the required <code>ack</code> field from the <code>data</code> dictionary, resulting in the submission being unsuccessful, and thus no submission-ID is returned.</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_submission_submission/#psv-test-submission-initial-success-of-invalid-data","title":"PSV Test Submission: Initial Success of Invalid Data\u00b6","text":"<p>Here we demonstrate sending a string of data containing no meaningful observational data, and that does not pass ADES validation.</p> <p>We see that, because the required meta-data is supplied, a submission-id is assigned and returned, and the data is passed into the system for subsequent validation.</p> <p>This implies that the assignment of a submission-id does not mean that the ADES file passes validation, and hence it does not mean that any observations contained in such a submission will necessarily be accepted.</p> <p>To understand whether a submission has been fully accepted and ingested, we recommend that submitters make use of the <code>Submission Status</code> API available at</p> <p>https://data.minorplanetcenter.net/api/submission-status</p> <p>and for which a tutorial is available at</p> <p>https://docs.minorplanetcenter.net/tutorials/notebooks/mpc_tutorial_api_submission_status.html</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_submission_submission/#xml-submission-to-production-endpoint","title":"XML Submission to Production Endpoint\u00b6","text":"<p>Here we demonstrate sending an XML file (saved above into <code>temp_filepaths['xml']</code>) to the production XML end-point:</p> <pre><code>`https://minorplanetcenter.net/submit_xml`.</code></pre> <p>The only difference with respect to the test submissions above, is the change of the URL from <code>https://minorplanetcenter.net/submit_xml_test</code> to <code>https://minorplanetcenter.net/submit_xml</code>.</p> <p>To reduce the risk of accidental, repeated submission of fake/test data into the MPC's production system , this tutorial deliberately converts the following cell to \"markdown\" rather then \"code\".</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_submission_submission/#url-of-the-test-end-point-to-which-we-will-submit","title":"URL of the test end-point to which we will submit\u00b6","text":"<p>url = \"https://minorplanetcenter.net/submit_xml\"</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_submission_submission/#meta-data-to-be-communicated","title":"Meta data to be communicated\u00b6","text":"<p>data = { 'ack': 'MPC submission tutorial',  # Acknowledgment message (required): 'ac2': 'my@email.adr',  # Address to which subsequent communications/notifications should be sent (required) 'obj_type': 'NEO'  # Object Type Flag (optional): This example indicaties the observations are believed to be of a known NEO }</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_submission_submission/#read-the-xml-file-send-to-url-collect-response","title":"Read the XML file, send to url, collect response\u00b6","text":"<p>with open(temp_filepaths['xml'], 'rb') as f: response = requests.post(url, data=data, files={'source': f.read()})</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_submission_submission/#print-some-of-the-details-of-the-response","title":"Print some of the details of the response\u00b6","text":"<p>print(response.status_code) print(response.text)</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_submission_submission/#psv-submission-to-production-endpoint","title":"PSV Submission to Production Endpoint\u00b6","text":"<p>Here we demonstrate sending an PSV file (saved above into <code>temp_filepaths['psv']</code>) to the production PSV end-point:</p> <pre><code>`https://minorplanetcenter.net/submit_psv`.</code></pre> <p>The only difference with respect to the test submissions above, is the change of the URL from <code>https://minorplanetcenter.net/submit_psv_test</code> to <code>https://minorplanetcenter.net/submit_psv</code>.</p> <p>To reduce the risk of accidental, repeated submission of fake/test data into the MPC's production system , this tutorial deliberately converts the following cell to \"markdown\" rather then \"code\".</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_submission_submission/#url-of-the-test-end-point-to-which-we-will-submit","title":"URL of the test end-point to which we will submit\u00b6","text":"<p>url = \"https://minorplanetcenter.net/submit_psv\"</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_submission_submission/#meta-data-to-be-communicated","title":"Meta data to be communicated\u00b6","text":"<p>data = { 'ack': 'MPC submission tutorial',  # Acknowledgment message (required): 'ac2': 'my@email.adr',  # Address to which subsequent communications/notifications should be sent (required) 'obj_type': 'NEO'  # Object Type Flag (optional): This example indicaties the observations are believed to be of a known NEO }</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_submission_submission/#read-the-xml-file-send-to-url-collect-response","title":"Read the XML file, send to url, collect response\u00b6","text":"<p>with open(temp_filepaths['psv'], 'rb') as f: response = requests.post(url, data=data, files={'source': f.read()})</p>"},{"location":"tutorials/notebooks/mpc_tutorial_api_submission_submission/#print-some-of-the-details-of-the-response","title":"Print some of the details of the response\u00b6","text":"<p>print(response.status_code) print(response.text)</p>"}]}